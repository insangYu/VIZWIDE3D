class CustomObject{constructor(a,b){let c=this,d=new Map(),e=[],f=0x0;a['DEBUG']&&(this['GetObjectsByDEBUG']=function(){return e;});let g=[];h();function h(){}this['Clear']=function(){for(let m=f-0x1;m>=0x0;m--){c['DeleteObject'](e[m]['uuid']);}e=[],f=0x0,g=[];},this['AddObject']=function(m){e['push'](m);for(let n=0x0;n<m['object']['length'];n++){a['RenderWGL']['SetDataByObject'](m['object'][n]);}f++;},this['DeleteObject']=function(m){for(let n=f-0x1;n>=0x0;n--){if(m!==undefined){if(e[n]['uuid']['localeCompare'](m)!==0x0)continue;}for(let o=0x0;o<e[n]['object']['length'];o++){a['RenderWGL']['ReleaseDataByObject'](e[n]['object'][o]);}e['splice'](n,0x1),f--;break;}},this['GetObject']=function(m){for(let n=0x0;n<e['length'];n++){if(e[n]['uuid']!==m)continue;return e[n];}return undefined;},this['GetObjectByBodyID']=function(m){for(let n=0x0;n<e['length'];n++){for(let o=0x0;o<e[n]['object']['length'];o++){if(e[n]['object'][o]['bodyId']!==m)continue;return e[n];}}return undefined;},this['GetBodyFormObject']=function(n){let o=[];for(let p=0x0;p<n['object']['length'];p++){let q=n['object'][p];for(let r=0x0;r<q['tag']['length'];r++){o['push'](q['tag'][r]);}}return o;},this['AddAnimationData']=function(m,n,o,p){let q=c['GetObject'](m);if(q===undefined)return;if(n<0x0)n=0x0;if(q['animation'][n]===undefined)q['animation'][n]=p;else{if(o>=0x0)for(let r=0x0;r<p['layer']['length'];r++){q['animation'][n]['layer'][o+r]=p['layer'][r];}else for(let s=0x0;s<p['layer']['length'];s++){q['animation'][n]['layer']['push'](p['layer'][s]);}}},this['SetAnimationByIndex']=function(m,n,o){for(let p=f-0x1;p>=0x0;p--){if(m!==undefined){if(e[p]['uuid']['localeCompare'](m)!==0x0)continue;}if(o<e[p]['animation'][n]['layer']['length'])c['SetAnimation'](e[p]['uuid'],n,e[p]['animation'][n]['layer'][o]['ID']);}},this['SetAnimation']=function(m,n,o){for(let p=f-0x1;p>=0x0;p--){if(m!==undefined){if(e[p]['uuid']['localeCompare'](m)!==0x0)continue;}let q=![];e[p]['currentAnimationNum']!==n&&(q=!![]);let r=-0x1;for(let s=0x0;s<e[p]['animation'][n]['layer']['length'];s++){if(e[p]['animation'][n]['layer'][s]['ID']!==o)continue;r=s;break;}if(!q&&e[p]['animation'][n]['playAnimation']===r)return;e[p]['currentAnimationNum']=n,e[p]['animation'][n]['lastAnimation']=e[p]['animation'][n]['playAnimation'],e[p]['animation'][n]['lastAnimationSecond']=e[p]['animation'][n]['animationSecond'],e[p]['animation'][n]['playAnimation']=-0x1;r>=0x0&&(e[p]['animation'][n]['playAnimation']=r,e[p]['animation'][n]['animationSecond']=0x0);if(q)e[p]['animation'][n]['lastAnimation']=-0x1;}},this['SetPosAndDirection']=function(n,o,p,q){for(let r=f-0x1;r>=0x0;r--){if(n!==undefined){if(e[r]['uuid']['localeCompare'](n)!==0x0)continue;}if(o!==undefined)e[r]['position']['copy'](o);if(p!==undefined)e[r]['direction']['copy'](p);if(q!==undefined)e[r]['up']['copy'](q);let s=new b['Vector3']()['copy'](e[r]['direction']),t=new b['Vector3']()['copy'](e[r]['up']),u=new b['Vector3']()['crossVectors'](t,s),v=new b['Vector3']()['copy'](s);v['cross'](u),v['normalize']();let w=new b['Matrix4']()['makeBasis'](s,u,v),x=new b['Matrix4']()['setPosition'](e[r]['position']),y=new b['Matrix4']()['multiplyMatrices'](x,w);for(let z=0x0;z<e[r]['object']['length'];z++){for(let A=0x0;A<e[r]['object'][z]['tag']['length'];A++){e[r]['object'][z]['tag'][A]['action']['transform']['copy'](y);}e[r]['object'][z]['flag']['updateProcess']=!![];}if(n!==undefined)break;}a['Renderer']['Render']();},this['AddDownloadInitPosAndDirection']=function(m,n,o,p){for(let r=g['length']-0x1;r>=0x0;r--){if(g[r]['id']['localeCompare'](m)!==0x0)continue;g[r]['vPos']=n,g[r]['vDir']=o,g[r]['vUp']=p;return;}let q={'id':m,'vPos':n,'vDir':o,'vUp':p};g['push'](q);},this['SetDownloadInitPosAndDirection']=function(n,o){let p=-0x1;for(let x=g['length']-0x1;x>=0x0;x--){if(g[x]['id']['localeCompare'](n['ID'])!==0x0)continue;p=x;break;}if(p<0x0)return;if(g[p]['vPos']!==undefined)o['position']['copy'](g[p]['vPos']);if(g[p]['vDir']!==undefined)o['direction']['copy'](g[p]['vDir']);if(g[p]['vUp']!==undefined)o['up']['copy'](g[p]['vUp']);let q=new b['Vector3']()['copy'](o['direction']),r=new b['Vector3']()['copy'](o['up']),s=new b['Vector3']()['crossVectors'](r,q),t=new b['Vector3']()['copy'](q);t['cross'](s),t['normalize']();let u=new b['Matrix4']()['makeBasis'](q,s,t),v=new b['Matrix4']()['setPosition'](o['position']),w=new b['Matrix4']()['multiplyMatrices'](v,u);for(let y=0x0;y<o['object']['length'];y++){for(let z=0x0;z<o['object'][y]['tag']['length'];z++){o['object'][y]['tag'][z]['action']['transform']['copy'](w);}o['object'][y]['flag']['updateProcess']=!![];}g['splice'](p,0x1);},this['GetObjectByColorIdx']=function(m){for(let n=0x0;n<f;n++){let o=e[n];for(let p=0x0;p<o['object']['length'];p++){let q=o['object'][p];for(let r=0x0;r<q['tag']['length'];r++){if(q['tag'][r]['colorIdx']===m)return[o,q['tag'][r]];}}}return undefined;},this['DeselectAll']=function(){for(let m=0x0;m<f;m++){let n=e[m];if(n['enableSelection']===![])continue;n['selection']=![];for(let o=0x0;o<n['object']['length'];o++){let p=n['object'][o];for(let q=0x0;q<p['tag']['length'];q++){p['tag'][q]['action']['selection']=![],p['tag'][q]['object']['flag']['updateProcess']=!![];}}}},this['Select']=function(n,o,p){!p&&o&&c['DeselectAll']();for(let q=0x0;q<n['length'];q++){for(let r=0x0;r<f;r++){let s=e[r];if(s['enableSelection']===![])continue;if(s['selection']===o)continue;if(s['uuid']['localeCompare'](n[q])!==0x0)continue;s['selection']=o;for(let t=0x0;t<s['object']['length'];t++){for(let u=0x0;u<s['object'][t]['tag']['length'];u++){s['object'][t]['tag'][u]['action']['selection']=o,s['object'][t]['tag'][u]['object']['flag']['updateProcess']=!![];}}break;}}a['Renderer']['MainFBClear'](),a['Renderer']['Render']();},this['GetSelection']=function(){let m=[];for(let n=0x0;n<e['length'];n++){if(!e[n]['selection'])continue;m['push'](e[n]);}return m;},this['GetBoundBox']=function(m){let n=new b['BBox'](),o=!![];for(let p=0x0;p<m['length'];p++){let q=m[p];for(let r=0x0;r<q['object']['length'];r++){if(q['object'][r]['tag']===undefined||q['object'][r]['tag']===null)continue;for(let s=0x0;s<q['object'][r]['tag']['length'];s++){let t=q['object'][r]['tag'][s];o?(o=![],n['min']['copy'](t['BBox']['min']),n['max']['copy'](t['BBox']['max'])):(n['min']['min'](t['BBox']['min']),n['max']['max'](t['BBox']['max']));}}}return n['update'](),n;},this['Show']=function(n,o){for(let p=0x0;p<n['length'];p++){for(let q=0x0;q<f;q++){let r=e[q];if(r['visible']===o)continue;if(r['uuid']['localeCompare'](n[p])!==0x0)continue;r['visible']=o;for(let s=0x0;s<r['object']['length'];s++){for(let t=0x0;t<r['object'][s]['tag']['length'];t++){r['object'][s]['tag'][t]['action']['visible']=o,r['object'][s]['tag'][t]['object']['flag']['updateProcess']=!![];}}break;}}a['Renderer']['MainFBClear'](),a['Renderer']['Render']();},this['GetWorldPickByID']=function(m,n,o){let p=c['GetObject'](m);if(p!==undefined){let q=c['GetBodyFormObject'](p);return a['Data']['GetWorldPick'](q,n,o);}return a['Data']['GetWorldPick'](undefined,n,o);},this['GetPickByBody']=function(m,n,o){let p;if(a['Camera']['perspectiveView'])p=new b['Vector3'](n,o,0x0);else p=new b['Vector3'](n,o,-0x1);let q=new b['Vector3'](p['x'],p['y'],p['z']),r=new b['Vector3'](p['x'],p['y'],0x1),s,t;s=a['Camera']['screen2WorldWithMatrix'](a['Camera']['matMVP'],q),t=a['Camera']['screen2WorldWithMatrix'](a['Camera']['matMVP'],r);let u=c['GetWorldPickByID'](m,s,t);return u;};function i(){{c['Process']();}for(let m=0x0;m<f;m++){for(let n=0x0;n<e[m]['object']['length'];n++){let o=a['RenderWGL']['InitRenderPipeline'](e[m]['object'][n]);d['set'](e[m]['object'][n]['uuid'],o);}}}this['BenginRenderObject']=function(){for(let m=0x0;m<f;m++){let n=e[m];for(let o=0x0;o<n['object']['length'];o++){if(n['object'][o]['attribs']['a_index']['buffer']!==null)n['object'][o]['flag']['renderEnable']=!![];}}},this['EndRenderObject']=function(){for(let m=0x0;m<f;m++){let n=e[m];for(let o=0x0;o<n['object']['length'];o++){n['object'][o]['flag']['renderEnable']=![];let p=d['get'](n['object'][o]['uuid']);if(p!==undefined)p['renderEnableOcclusion']=![];}}},this['Render']=function(){if(f<=0x0)return;i(),j(),a['Shader']['BeginShader'](b['Enum']['SHADER_TYPES']['PBR']),a['Shader']['SetGLCameraData'](),a['Shader']['SetGLLight'](),a['gl']['disable'](a['gl']['BLEND']),a['gl']['enable'](a['gl']['DEPTH_TEST']);const m=new b['Matrix4']()['copy'](a['Camera']['matMV']),n=new b['Matrix4']()['copy'](a['Camera']['matMVP']);a['Shader']['SetMatrix'](n,m),a['Shader']['SetClipping'](undefined);for(let o=0x0;o<f;o++){if(e[o]['visible']===![])continue;if(e[o]['currentAnimationNum']>=0x0)continue;for(let p=0x0;p<e[o]['object']['length'];p++){a['RenderWGL']['UpdateRenderProcessByObject_v2'](e[o]['object'][p],![]);}}a['gl']['enable'](a['gl']['DEPTH_TEST']),a['gl']['depthMask'](![]),a['gl']['enable'](a['gl']['BLEND']),a['gl']['blendFunc'](a['gl']['SRC_ALPHA'],a['gl']['ONE_MINUS_SRC_ALPHA']);for(let q=0x0;q<f;q++){if(e[q]['visible']===![])continue;if(e[q]['currentAnimationNum']>=0x0)continue;for(let r=0x0;r<e[q]['object']['length'];r++){a['RenderWGL']['UpdateRenderProcessByObject_v2'](e[q]['object'][r],!![]);}}a['gl']['disable'](a['gl']['BLEND']),a['gl']['depthMask'](!![]),a['gl']['disable'](a['gl']['BLEND']),a['gl']['disable'](a['gl']['DEPTH_TEST']),a['Shader']['EndShader']();},this['AnimationRender']=function(){if(f<=0x0)return;let m=(a['RenderProcessTime']-a['LastRenderProcessTime'])/0x3e8;a['Shader']['BeginShader'](b['Enum']['SHADER_TYPES']['ANIMATIONPBR']),a['Shader']['SetGLCameraData'](),a['Shader']['SetGLLight'](),a['gl']['enable'](a['gl']['BLEND']),a['gl']['enable'](a['gl']['DEPTH_TEST']);const n=new b['Matrix4']()['copy'](a['Camera']['matMV']),o=new b['Matrix4']()['copy'](a['Camera']['matMVP']);a['Shader']['SetMatrix'](o,n),a['Shader']['SetClipping'](undefined);for(let p=0x0;p<f;p++){if(e[p]['visible']===![])continue;a['Shader']['SetUpdateCurrentMatrixData']();if(e[p]['currentAnimationNum']<0x0)continue;if(e[p]['currentAnimationNum']>=0x0){let q=e[p]['animation'][e[p]['currentAnimationNum']],r=q['playAnimation'],s=q['lastAnimation'];if(r>=0x0)q['animationSecond']+=m;if(s>=0x0)q['lastAnimationSecond']+=m;if(r<0x0)continue;let t=0x0,u=0x0;if(r>=0x0)t=q['animationSecond']/q['layer'][r]['step'];if(s>=0x0)u=q['lastAnimationSecond']/q['layer'][s]['step'];let v=[];for(let x=0x0;x<q['layer'][r]['data']['length'];x++){if(q['layer'][r]['data'][x]['transform']['length']>0x0){let y=Math['floor'](t)%Math['floor'](q['layer'][r]['data'][x]['transform']['length']);v['push'](new b['Matrix4']()['copy'](q['layer'][r]['data'][x]['transform'][y]));}else v['push'](new b['Matrix4']());}let w=0.5;if(q['animationSecond']<w&&s>=0x0){let z=q['animationSecond']/w;for(let A=0x0;A<q['layer'][s]['data']['length'];A++){let B=new b['Matrix4']();if(q['layer'][s]['data'][A]['transform']['length']>0x0){let E=Math['floor'](u)%Math['floor'](q['layer'][s]['data'][A]['transform']['length']);B['copy'](q['layer'][s]['data'][A]['transform'][E]);}let C=new b['Matrix4']()['copy'](v[A])['multiplyScalar'](z),D=B['multiplyScalar'](0x1-z);for(let F=0x0;F<0x10;F++){v[A]['elements'][F]=C['elements'][F]+D['elements'][F];}}}a['Shader']['SetUpdateCurrentMatrixData'](v);}for(let G=0x0;G<e[p]['object']['length'];G++){a['RenderWGL']['UpdateRenderProcessByAnimationObject_v2'](e[p]['object'][G]);}}a['gl']['disable'](a['gl']['BLEND']),a['gl']['depthMask'](!![]),a['gl']['disable'](a['gl']['BLEND']),a['gl']['disable'](a['gl']['DEPTH_TEST']),a['Shader']['EndShader']();};function j(){if(a['Renderer']['enableOcclusion']===![])return;gl['colorMask'](![],![],![],![]),gl['depthMask'](![]);let m=new b['Color'](0xff,0xff,0xff,0xff);a['Shader']['BeginShader'](b['Enum']['SHADER_TYPES']['BASIC2D']);for(let n=0x0;n<f;n++){if(e[n]['visible']===![])continue;for(let o=0x0;o<e[n]['object']['length'];o++){a['RenderWGL']['UpdateRenderProcessByObjectOcclusion_v2'](e[n]['object'][o],m);}}a['Shader']['EndShader'](),gl['colorMask'](!![],!![],!![],!![]),gl['depthMask'](!![]);}this['SelectedRender']=function(m){if(f<=0x0)return;if(m===undefined)m=b['Enum']['SHADER_TYPES']['PICKING'];a['Shader']['BeginShader'](m),a['Shader']['SetGLCameraData']();for(let n=0x0;n<f;n++){if(e[n]['visible']===![])continue;if(e[n]['selection']===![])continue;if(e[n]['currentAnimationNum']>=0x0)continue;for(let o=0x0;o<e[n]['object']['length'];o++){a['RenderWGL']['UpdateRenderProcessByPickObject_v2'](e[n]['object'][o]);}}a['Shader']['EndShader']();},this['PickRender']=function(m){if(f<=0x0)return;if(m===undefined)m=b['Enum']['SHADER_TYPES']['PICKING'];a['Shader']['BeginShader'](m),a['Shader']['SetGLCameraData']();for(let n=0x0;n<f;n++){if(e[n]['visible']===![])continue;if(e[n]['currentAnimationNum']>=0x0)continue;for(let o=0x0;o<e[n]['object']['length'];o++){a['RenderWGL']['UpdateRenderProcessByPickObject_v2'](e[n]['object'][o]);}}a['Shader']['EndShader']();},this['ColorIDRender']=function(m){if(f<=0x0)return;if(m===undefined)m=b['Enum']['SHADER_TYPES']['PICKING'];a['Shader']['BeginShader'](m),a['Shader']['SetGLCameraData']();for(let n=0x0;n<f;n++){if(e[n]['visible']===![])continue;if(e[n]['currentAnimationNum']>=0x0)continue;for(let o=0x0;o<e[n]['object']['length'];o++){a['RenderWGL']['UpdateRenderProcessByColorID_v2'](e[n]['object'][o]);}}a['Shader']['EndShader']();},this['OneColorRender']=function(m,n){if(f<=0x0)return;if(m===undefined)m=b['Enum']['SHADER_TYPES']['BASIC2D'];a['Shader']['BeginShader'](m),a['Shader']['SetGLCameraData']();for(let o=0x0;o<f;o++){if(e[o]['visible']===![])continue;if(e[o]['currentAnimationNum']>=0x0)continue;for(let p=0x0;p<e[o]['object']['length'];p++){a['RenderWGL']['UpdateRenderProcessByObjectOneColor_v2'](e[o]['object'][p],n);}}a['Shader']['EndShader']();},this['Process']=function(){let m=(a['RenderProcessTime']-a['LastRenderProcessTime'])/0x3e8,n=0x3e8,o=0xa,p=0x5,q=0.01,r=0x5dc;for(let s=0x0;s<f;s++){let t=a['SHWebSocket']['GetPlayerDataByAvatar'](e[s]['uuid']);if(t===undefined)continue;let u=new b['Vector3']()['copy'](e[s]['position']),v=new b['Vector3']()['copy'](e[s]['direction']),w=new b['Vector3']()['copy'](e[s]['up']),x=new b['Vector3']()['subVectors'](t['TrgPosition'],u),y=x['length'](),z=![];{let A=v['get2DAngle'](),B=0x0;if(y<o)B=t['TrgZAngle'];else{let D=new b['Vector3']()['subVectors'](t['TrgPosition'],u);D['normalize'](),B=D['get2DAngle'](),B+=3.141592654/0x2;}let C=B-A;while(C<-3.141592654){C+=3.141592654*0x2,B+=3.141592654*0x2;}while(C>3.141592654){C-=3.141592654*0x2,B-=3.141592654*0x2;}if(C>0x0){A+=p*m;if(A>B-q)A=B;}else{if(C<0x0){A-=p*m;if(A<B+q)A=B;}}if(Math['abs'](C)>q)z=!![];v['x']=Math['cos'](A),v['y']=Math['sin'](A),v['z']=0x0,t['zAngle']=A;}{if(y<o){u['copy'](t['TrgPosition']);if(z)c['SetAnimationByIndex'](e[s]['uuid'],0x0,0x1);else e[s]['direction']['equals'](v)===!![]&&c['SetAnimationByIndex'](e[s]['uuid'],0x0,0x0);}else{let E=new b['Vector3']()['copy'](t['MoveOffset']),F=E['length'](),G=F/0x1,H=G;if(H<n)H=n;let I=H*m,J=new b['Vector3']()['subVectors'](t['TrgPosition'],t['position']),K=J['length']();if(I>K)u['copy'](t['TrgPosition']),H=0x0;else{let L=new b['Vector3']()['copy'](J);L['normalize'](),L['multiplyScalar'](I),u['add'](L);}if(H===0x0)c['SetAnimationByIndex'](e[s]['uuid'],0x0,0x0);else H<r?c['SetAnimationByIndex'](e[s]['uuid'],0x0,0x1):c['SetAnimationByIndex'](e[s]['uuid'],0x0,0x2);}t['position']['copy'](u),c['SetPosAndDirection'](e[s]['uuid'],u,v,w),t['review']!==undefined&&(t['review']['text']['position']['copy'](u),t['review']['text']['position']['z']+=0x7d0);}}};function k(m,n){if(!m['flag']['renderEnable'])return;let o=d['get'](m['uuid']);if(o===undefined)return;if(o['listProcess']['length']<=0x0)return;if(m['attribs']['a_index']['buffer']===null)return;a['gl']['bindBuffer'](a['gl']['ARRAY_BUFFER'],m['attribs']['a_position']['buffer']);let p=0x3,q=a['gl']['FLOAT'],r=![],s=0x0,t=0x0;a['gl']['vertexAttribPointer'](a['Shader']['positionAttributeLocation'],p,q,r,s,t),a['gl']['bindBuffer'](a['gl']['ARRAY_BUFFER'],m['attribs']['a_normal']['buffer']),a['gl']['vertexAttribPointer'](a['Shader']['normalAttributeLocation'],p,q,r,s,t);a['UV_DEBUG']&&(m['attribs']['a_uv']['buffer']!==null&&a['Shader']['uvAttributeLocation']>=0x0&&(a['gl']['bindBuffer'](a['gl']['ARRAY_BUFFER'],m['attribs']['a_uv']['buffer']),a['gl']['vertexAttribPointer'](a['Shader']['uvAttributeLocation'],0x2,a['gl']['FLOAT'],![],0x0,0x0)));a['gl']['bindBuffer'](a['gl']['ELEMENT_ARRAY_BUFFER'],m['attribs']['a_index']['buffer']);let u=m['tag'][0x0],v=u['color'];{const x=new b['Matrix4']()['copy'](a['Camera']['matMV']),y=new b['Matrix4']()['copy'](a['Camera']['matMVP']);a['Shader']['SetMatrix'](y,x);}let w=new b['Matrix4']();for(let z=0x0;z<o['listProcess']['length'];z++){let A=o['listProcess'][z],B=v;A['action']['color']!==undefined&&(B=A['action']['color']);if(A['action']['selection'])B=a['Configuration']['Model']['Selection']['Color'],a['Shader']['SetGLMaterial'](-0x1);else{a['Shader']['SetGLMaterial'](A['action']['material']);if(A['action']['material']>=0x0){let D=a['Shader']['GetMaterial'](A['action']['material']);if(D!==undefined)B=D['color'];}}if(n&&B['a']===0xff)continue;if(!n&&B['a']!==0xff)continue;let C=B['glColor']();a['Shader']['SetGLColor'](C['r'],C['g'],C['b'],C['a']);if(a['Shader']['GetUseUpdateMatrixManager']()&&A['action']['transformIdx']>0x0)a['Shader']['SetUpdateModelMatrixData'](m['uuid'],A['action']['transformIdx']),m['attribs']['a_matrixIndex']['buffer']!==null&&a['Shader']['updateMatrixAttributeLocation']>=0x0&&(a['gl']['bindBuffer'](a['gl']['ARRAY_BUFFER'],m['attribs']['a_matrixIndex']['buffer']),a['gl']['vertexAttribPointer'](a['Shader']['updateMatrixAttributeLocation'],0x3,a['gl']['UNSIGNED_SHORT'],![],0x0,0x0));else{a['Shader']['SetUpdateModelMatrixData'](m['uuid'],-0x1);if(!w['equals'](A['action']['transform'])){w['copy'](A['action']['transform']);const E=new b['Matrix4']()['multiplyMatrices'](a['Camera']['matMV'],w),F=new b['Matrix4']()['multiplyMatrices'](a['Camera']['projectionMatrix'],E);a['Shader']['SetMatrix'](F,E);}}a['gl']['drawElements'](a['gl']['TRIANGLES'],A['length'],a['gl']['UNSIGNED_SHORT'],A['start']*0x2);}}function l(m){if(!m['flag']['renderEnable'])return;let n=d['get'](m['uuid']);if(n===undefined)return;if(n['listProcess']['length']<=0x0)return;if(m['attribs']['a_index']['buffer']===null)return;a['gl']['bindBuffer'](a['gl']['ARRAY_BUFFER'],m['attribs']['a_position']['buffer']);let o=0x3,p=a['gl']['FLOAT'],q=![],r=0x0,s=0x0;a['gl']['vertexAttribPointer'](a['Shader']['positionAttributeLocation'],o,p,q,r,s),a['gl']['bindBuffer'](a['gl']['ARRAY_BUFFER'],m['attribs']['a_normal']['buffer']),a['gl']['vertexAttribPointer'](a['Shader']['normalAttributeLocation'],o,p,q,r,s);a['UV_DEBUG']&&(m['attribs']['a_uv']['buffer']!==null&&a['Shader']['uvAttributeLocation']>=0x0&&(a['gl']['bindBuffer'](a['gl']['ARRAY_BUFFER'],m['attribs']['a_uv']['buffer']),a['gl']['vertexAttribPointer'](a['Shader']['uvAttributeLocation'],0x2,a['gl']['FLOAT'],![],0x0,0x0)));a['Shader']['subBipedIdxAttributeLocation']>=0x0&&(a['gl']['bindBuffer'](a['gl']['ARRAY_BUFFER'],m['attribs']['sub']['biped']['a_biped']['buffer']),a['gl']['vertexAttribPointer'](a['Shader']['subBipedIdxAttributeLocation'],0x4,a['gl']['FLOAT'],![],0x0,0x0));a['Shader']['subBipedWeightAttributeLocation']>=0x0&&(a['gl']['bindBuffer'](a['gl']['ARRAY_BUFFER'],m['attribs']['sub']['biped']['a_weight']['buffer']),a['gl']['vertexAttribPointer'](a['Shader']['subBipedWeightAttributeLocation'],0x4,a['gl']['FLOAT'],![],0x0,0x0));a['gl']['bindBuffer'](a['gl']['ELEMENT_ARRAY_BUFFER'],m['attribs']['a_index']['buffer']);let t=m['tag'][0x0],u=t['color'];{const w=new b['Matrix4']()['copy'](a['Camera']['matMV']),x=new b['Matrix4']()['copy'](a['Camera']['matMVP']);a['Shader']['SetMatrix'](x,w);}let v=new b['Matrix4']();for(let y=0x0;y<n['listProcess']['length'];y++){let z=n['listProcess'][y],A=u;z['action']['color']!==undefined&&(A=z['action']['color']);if(z['action']['selection'])A=a['Configuration']['Model']['Selection']['Color'],a['Shader']['SetGLMaterial'](-0x1);else{a['Shader']['SetGLMaterial'](z['action']['material']);if(z['action']['material']>=0x0){let C=a['Shader']['GetMaterial'](z['action']['material']);if(C!==undefined)A=C['color'];}}let B=A['glColor']();a['Shader']['SetGLColor'](B['r'],B['g'],B['b'],B['a']);if(!v['equals'](z['action']['transform'])){v['copy'](z['action']['transform']);const D=new b['Matrix4']()['multiplyMatrices'](a['Camera']['matMV'],v),E=new b['Matrix4']()['multiplyMatrices'](a['Camera']['projectionMatrix'],D);a['Shader']['SetMatrix'](E,D);}a['gl']['drawElements'](a['gl']['TRIANGLES'],z['length'],a['gl']['UNSIGNED_SHORT'],z['start']*0x2);}}this['CustomObject_Sphere3D']=function(m,n,o){let p=![],q=new b['BBox'](),r=new b['Vector3'](0x1,0x0,0x0),s=new b['Vector3'](0x0,0x1,0x0),t=new b['Vector3'](0x0,0x0,0x1),u=[],v=[],w=[],x=[],y=0x14,z=0x0,A=new b['Vector3'](0x0,0x0,0x1);for(let F=0x0;F<y;F++){let G=Math['PI']*0x2/y*F,H=Math['PI']*0x2/y*(F+0x1),I=[],J=[],K=0x0;for(let L=0x0;L<y+0x1;L++){let M=Math['PI']*0x2/y*L,N=new b['Vector3']()['copy'](r)['multiplyScalar'](Math['cos'](M)),O=new b['Vector3']()['copy'](N)['multiplyScalar'](n),P=new b['Vector3']()['copy'](s)['multiplyScalar'](Math['sin'](M)),Q=new b['Vector3']()['copy'](P)['multiplyScalar'](n),R=new b['Vector3']()['addVectors'](O,Q);R['normalize']();let S=new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](A)['multiplyScalar'](Math['cos'](G)),new b['Vector3']()['copy'](R)['multiplyScalar'](Math['sin'](G)));S['normalize']();let T=new b['Vector3']()['addVectors'](m,new b['Vector3']()['copy'](S)['multiplyScalar'](n));I['push'](T['x']),I['push'](T['y']),I['push'](T['z']),J['push'](S['x']),J['push'](S['y']),J['push'](S['z']);let U=new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](A)['multiplyScalar'](Math['cos'](H)),new b['Vector3']()['copy'](R)['multiplyScalar'](Math['sin'](H)));U['normalize']();let V=new b['Vector3']()['addVectors'](m,new b['Vector3']()['copy'](U)['multiplyScalar'](n));I['push'](V['x']),I['push'](V['y']),I['push'](V['z']),J['push'](U['x']),J['push'](U['y']),J['push'](U['z']),K+=0x2,p?(p=![],q['min']['copy'](T),q['max']['copy'](T),q['min']['min'](V),q['max']['max'](V)):(q['min']['copy'](T),q['max']['copy'](T),q['min']['min'](V),q['max']['max'](V));}for(let W=0x0;W<K-0x2;W++){u['push'](I[W*0x3+0x0]),u['push'](I[W*0x3+0x1]),u['push'](I[W*0x3+0x2]),u['push'](I[(W+0x1)*0x3+0x0]),u['push'](I[(W+0x1)*0x3+0x1]),u['push'](I[(W+0x1)*0x3+0x2]),u['push'](I[(W+0x2)*0x3+0x0]),u['push'](I[(W+0x2)*0x3+0x1]),u['push'](I[(W+0x2)*0x3+0x2]),v['push'](J[W*0x3+0x0]),v['push'](J[W*0x3+0x1]),v['push'](J[W*0x3+0x2]),v['push'](J[(W+0x1)*0x3+0x0]),v['push'](J[(W+0x1)*0x3+0x1]),v['push'](J[(W+0x1)*0x3+0x2]),v['push'](J[(W+0x2)*0x3+0x0]),v['push'](J[(W+0x2)*0x3+0x1]),v['push'](J[(W+0x2)*0x3+0x2]),w['push'](z),z++,w['push'](z),z++,w['push'](z),z++;}}let B=a['Data']['Object3D']();q['update']();let C={'partId':e['length']+0x1,'bodyId':e['length']+0x1,'color':o,'m_vnIdx':0x0,'m_triIdx':0x0,'m_nVtx':u['length']/0x3,'m_nTris':w['length'],'BBox':new b['BBox']()['copy'](q),'action':a['Data']['ActionItem'](),'colorIdx':null,'object':null};a['Data']['IDColor']['new'](),C['colorIdx']=a['Data']['IDColor']['r']+(a['Data']['IDColor']['g']<<0x8)+(a['Data']['IDColor']['b']<<0x10)+a['Data']['IDColor']['a']*0x1000000;let D=C['m_nVtx']*0x4;for(let X=0x0;X<D;X=X+0x4){x[X+0x0]=a['Data']['IDColor']['r'],x[X+0x1]=a['Data']['IDColor']['g'],x[X+0x2]=a['Data']['IDColor']['b'],x[X+0x3]=a['Data']['IDColor']['a'];}C['object']=B,B['attribs']['a_index']['array']=new Uint32Array(w),B['numElements']=B['attribs']['a_index']['array']['length'],B['attribs']['a_position']['array']=new Float32Array(u),B['attribs']['a_normal']['array']=new Float32Array(v),B['attribs']['a_color']['array']=new Uint8Array(x);let E=[];return E['push'](C),B['tag']=E,B;},this['CustomObject_Box3DByCenter']=function(m,n,o){let p=new b['Vector3'](0x1,0x0,0x0),q=new b['Vector3'](0x0,0x1,0x0),r=new b['Vector3'](0x0,0x0,0x1),s=[new b['Vector3']()['copy'](m)['add'](new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](p)['multiplyScalar'](n),new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](q)['multiplyScalar'](n),new b['Vector3']()['copy'](r)['multiplyScalar'](n)))),new b['Vector3']()['copy'](m)['add'](new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](p)['multiplyScalar'](n),new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](q)['multiplyScalar'](n),new b['Vector3']()['copy'](r)['multiplyScalar'](-n)))),new b['Vector3']()['copy'](m)['add'](new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](p)['multiplyScalar'](n),new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](q)['multiplyScalar'](-n),new b['Vector3']()['copy'](r)['multiplyScalar'](n)))),new b['Vector3']()['copy'](m)['add'](new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](p)['multiplyScalar'](n),new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](q)['multiplyScalar'](-n),new b['Vector3']()['copy'](r)['multiplyScalar'](-n)))),new b['Vector3']()['copy'](m)['add'](new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](p)['multiplyScalar'](-n),new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](q)['multiplyScalar'](n),new b['Vector3']()['copy'](r)['multiplyScalar'](n)))),new b['Vector3']()['copy'](m)['add'](new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](p)['multiplyScalar'](-n),new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](q)['multiplyScalar'](n),new b['Vector3']()['copy'](r)['multiplyScalar'](-n)))),new b['Vector3']()['copy'](m)['add'](new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](p)['multiplyScalar'](-n),new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](q)['multiplyScalar'](-n),new b['Vector3']()['copy'](r)['multiplyScalar'](n)))),new b['Vector3']()['copy'](m)['add'](new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](p)['multiplyScalar'](-n),new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](q)['multiplyScalar'](-n),new b['Vector3']()['copy'](r)['multiplyScalar'](-n))))],t=[[0x2,0x0,0x3],[0x1,0x3,0x0],[0x4,0x6,0x5],[0x7,0x5,0x6],[0x0,0x4,0x1],[0x5,0x1,0x4],[0x6,0x2,0x7],[0x3,0x7,0x2],[0x4,0x0,0x6],[0x2,0x6,0x0],[0x1,0x5,0x3],[0x7,0x3,0x5]],u=[],v=[],w=[],x=0x0;for(let y=0x0;y<0xc;y++){for(let A=0x0;A<0x3;A++){u[x]=s[t[y][A]],w[x]=x,x++;}let z=a['Util']['GetTriangleNormal'](u[x-0x3],u[x-0x2],u[x-0x1]);v[x-0x3]=z,v[x-0x2]=z,v[x-0x1]=z;}return c['CustomObject_Box3D'](u,v,w,o);},this['CustomObject_Box3D']=function(m,n,o,p){let q=!![],r=new b['BBox']();for(let A=0x0;A<m['length'];A++){q===!![]?(q=![],r['min']['copy'](m[A]),r['max']['copy'](m[A])):(r['min']['min'](m[A]),r['max']['max'](m[A]));}let s=[],t=[],u=o,v=[];for(let B=0x0;B<m['length'];B++){s[B*0x3+0x0]=m[B]['x'],s[B*0x3+0x1]=m[B]['y'],s[B*0x3+0x2]=m[B]['z'],t[B*0x3+0x0]=n[B]['x'],t[B*0x3+0x1]=n[B]['y'],t[B*0x3+0x2]=n[B]['z'];}let w=a['Data']['Object3D']();r['update']();let x={'partId':e['length']+0x1,'bodyId':e['length']+0x1,'color':p,'m_vnIdx':0x0,'m_triIdx':0x0,'m_nVtx':s['length']/0x3,'m_nTris':u['length'],'BBox':new b['BBox']()['copy'](r),'action':a['Data']['ActionItem'](),'colorIdx':null,'object':null};a['Data']['IDColor']['new'](),x['colorIdx']=a['Data']['IDColor']['r']+(a['Data']['IDColor']['g']<<0x8)+(a['Data']['IDColor']['b']<<0x10)+a['Data']['IDColor']['a']*0x1000000;let y=x['m_nVtx']*0x4;for(let C=0x0;C<y;C=C+0x4){v[C+0x0]=a['Data']['IDColor']['r'],v[C+0x1]=a['Data']['IDColor']['g'],v[C+0x2]=a['Data']['IDColor']['b'],v[C+0x3]=a['Data']['IDColor']['a'];}x['object']=w,w['attribs']['a_index']['array']=new Uint32Array(u),w['numElements']=w['attribs']['a_index']['array']['length'],w['attribs']['a_position']['array']=new Float32Array(s),w['attribs']['a_normal']['array']=new Float32Array(t),w['attribs']['a_color']['array']=new Uint8Array(v);let z=[];return z['push'](x),w['tag']=z,w;};}}export default CustomObject;