let UIScreenBox=function(a,b){let c=this;this['base']=b['UIBase'],this['base'](a,b);let d=![],e=![],f=![];g();function g(){}this['UIBegin']=function(){c['base']['prototype']['UIBegin']['call'](c);if($('.ui_message')['length']>0x0){let h='Drag\x20the\x20mouse\x20to\x20specify\x20the\x20area.',i=h;$('.ui_message_text')['html'](i),$('.ui_message')['fadeIn'](0x1f4);}},this['UIEnd']=function(){$('.ui_message')['length']>0x0&&($('.ui_message_text')['html'](''),$('.ui_message')['hide']()),c['base']['prototype']['UIEnd']['call'](c);},this['SetUIMode']=function(h){d=![],e=![];if(h!==undefined)switch(h){case b['Enum']['SCREENBOX_TYPES']['BOXZOOM']:{d=!![];}break;case b['Enum']['SCREENBOX_TYPES']['SELECTBOX']:{e=!![];}break;}else e=!![];},this['mouseDown']=function(h,i,j){c['actionEnabled']=![];let k=c['base']['prototype']['mouseDown']['call'](c,h,i,j);return c['actionEnabled']=!![],c['mouseLeftDown']&&a['Renderer']['Render'](),k;},this['mouseMove']=function(h,i){c['actionEnabled']=![],c['base']['prototype']['mouseMove']['call'](c,h,i),c['actionEnabled']=!![],c['mouseLeftDown']&&a['Renderer']['Render']();},this['mouseUp']=function(h,i,j){c['actionEnabled']=![];let k=c['base']['prototype']['mouseUp']['call'](c,h,i,j);c['actionEnabled']=!![];if(c['mouseDownPosition']['x']===h&&c['mouseDownPosition']['y']===i)return k;let l=Math['min'](c['mouseDownPosition']['x'],h),m=Math['min'](c['mouseDownPosition']['y'],i),n=Math['max'](c['mouseDownPosition']['x'],h),o=Math['max'](c['mouseDownPosition']['y'],i);if(d){let p=new b['Matrix4']()['copy'](a['Camera']['matMVP']),q=a['Data']['GetBBox'](),r=q['center'],s=a['Camera']['world2ScreenWithMatrix'](p,r),t=new b['Vector3']((n+l)/0x2,(o+m)/0x2,s['z']),u=a['Camera']['screen2WorldWithMatrix'](p,t);return a['Camera']['FocusViewBoxZoom'](l,m,n,o,u),a['Control']['RestoreMode'](),a['MeshBlock']['Reset'](),a['Renderer']['Render'](),k;}else{if(e){let v=new b['Matrix4']()['copy'](a['Camera']['matMVP']),w=a['Data']['GetBBox'](),z=w['center'],A=a['Camera']['world2ScreenWithMatrix'](v,z),B=new b['Vector3']((n+l)/0x2,(o+m)/0x2,A['z']),C=a['Camera']['screen2WorldWithMatrix'](v,B),D=![];if(h>c['mouseDownPosition']['x'])D=!![];a['Data']['ObjectsSelectBox'](l,m,n,o,D),a['Control']['RestoreMode'](),a['MeshBlock']['Reset'](),a['Renderer']['Render']();}}return k;},this['mouseDoubleClick']=function(h,i,j){},this['Render2D']=function(i){if(!c['mouseLeftDown'])return;let j=c['mouse']['x']-c['mouseDownPosition']['x'],k=c['mouse']['y']-c['mouseDownPosition']['y'],l=new b['Color'](0x0,0x0,0x0,0x64);i['fillStyle']='rgba('+l['r']+','+l['g']+','+l['b']+','+l['glAlpha']()+')',i['strokeStyle']='rgba('+l['r']+','+l['g']+','+l['b']+','+l['glAlpha']()+')',i['lineWidth']=0x2,a['Renderer']['Util_draw_Rect'](i,c['mouseDownPosition']['x'],c['mouseDownPosition']['y'],j,k,![],!![]);};};export default UIScreenBox;