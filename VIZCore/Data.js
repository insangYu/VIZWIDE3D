let Data=function(a,c){let d=this,e=0x0,f=0x0,g=0x0,h=undefined,i=undefined,j=undefined,k=undefined,l=undefined,m=undefined,n=undefined,o=undefined;this['Parent']=function(){return a;},this['useFramebuffer']=a['useFramebuffer'],this['Accumulation']=c['Enum']['ACCUMULATION_UNIT']['MILLIMETERS'],this['GetUnitValue']=function(A){if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['MICROMETERS'])A*=0x3e8;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['CENTIMETERS'])A/=0xa;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['DECIMETERS'])A/=0x64;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['METERS'])A/=0x3e8;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['KILOMETERS'])A/=0xf4240;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['INCHES'])A/=25.4;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['FEET'])A/=304.8;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['YARDS'])A/=914.4;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['MILES'])A/=0x188e7c;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['MILS'])A/=0x6338;}}}}}}}}}return A;},this['GetCustomUnitValue']=function(A){return A;},this['GetWalkthroughUnitValue']=function(A){if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['MICROMETERS'])A*=0x3e8;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['CENTIMETERS'])A/=0xa;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['DECIMETERS'])A/=0x64;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['METERS'])A/=0x3e8;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['KILOMETERS'])A/=0xf4240;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['INCHES'])A/=25.4;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['FEET'])A/=304.8;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['YARDS'])A/=914.4;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['MILES'])A/=0x188e7c;else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['MILS'])A/=0x6338;}}}}}}}}}return A;},this['GetUnitString']=function(){let A='';if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['MILLIMETERS'])A='mm';else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['MICROMETERS'])A='Î¼m';else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['CENTIMETERS'])A='cm';else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['DECIMETERS'])A='dm';else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['METERS'])A='m';else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['KILOMETERS'])A='km';else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['INCHES'])A='in.';else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['FEET'])A='ft';else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['YARDS'])A='yd';else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['MILES'])A='mi';else{if(d['Accumulation']===c['Enum']['ACCUMULATION_UNIT']['MILS'])A='mil';}}}}}}}}}}return A;},this['GetColorString']=function(A){let B='rgba('+A['r']+','+A['g']+','+A['b']+','+A['glColor']()['a']+')';return B;},this['Object3D']=function(){if(a['UV_DEBUG']){let B={'uuid':d['UUIDv4'](),'index':-0x1,'link':'','id_file':'','attribs':{'a_index':{'buffer':null,'array':[]},'a_uv':{'buffer':null,'array':[]},'a_color':{'buffer':null,'array':[]},'a_normal':{'buffer':null,'array':[]},'a_position':{'buffer':null,'array':[]},'a_matrixIndex':{'buffer':null,'array':[]},'sub':{'a_wireframe':{'buffer':null},'biped':{'a_biped':{'buffer':null,'array':[]},'a_weight':{'buffer':null,'array':[]}}}},'numElements':0x0,'tag':null,'flag':{'updateProcess':!![],'renderEnable':!![],'cache':!![],'lod':0x0,'sequence':0x0}};return B;}let A={'uuid':d['UUIDv4'](),'index':-0x1,'link':'','id_file':'','attribs':{'a_index':{'buffer':null,'array':[]},'a_color':{'buffer':null,'array':[]},'a_normal':{'buffer':null,'array':[]},'a_position':{'buffer':null,'array':[]},'a_matrixIndex':{'buffer':null,'array':[]},'sub':{'a_wireframe':{'buffer':null},'biped':{'a_biped':{'buffer':null,'array':[]},'a_weight':{'buffer':null,'array':[]}}}},'numElements':0x0,'tag':null,'flag':{'updateProcess':!![],'renderEnable':!![],'cache':!![],'lod':0x0,'sequence':0x0}};return A;},this['CustomObjectData']=function(){let A={'uuid':d['UUIDv4'](),'name':'','visible':!![],'selection':![],'enableSelection':!![],'position':new c['Vector3'](),'direction':new c['Vector3'](0x1,0x0,0x0),'up':new c['Vector3'](0x0,0x0,0x1),'structure':[],'object':[],'animation':[],'currentAnimationNum':-0x1};return A;},this['CustomObject3D']=function(){let A={'uuid':d['UUIDv4'](),'index':-0x1,'link':'','id_file':'','attribs':{'a_index':{'buffer':null,'array':[]},'a_color':{'buffer':null,'array':[]},'a_normal':{'buffer':null,'array':[]},'a_position':{'buffer':null,'array':[]},'a_uv':{'buffer':null,'array':[]},'a_matrixIndex':{'buffer':null,'array':[]},'biped':[]},'numElements':0x0,'tag':null,'flag':{'updateProcess':!![],'renderEnable':!![],'cache':!![],'lod':0x0,'sequence':0x0}};return A;},this['CustomObjectAnimation']=function(){let A={'layer':[],'playAnimation':-0x1,'lastAnimation':-0x1,'animationSecond':0x0,'lastAnimationSecond':0x0};return A;},this['CustomObjectAnimationLayer']=function(){let A={'ID':a['Data']['UUIDv4'](),'data':[],'length':0x0,'step':0x0};return A;},this['BBox']=function(A){let B;return B=new c['BBox'](A),B;},this['NodeItem']=function(){let A={'index':-0x1,'itemType':0x0,'pIndex':-0x1,'name':null,'sub':[]};return A;},this['ActionItem']=function(){let A={'visible':!![],'selection':![],'transform':new c['Matrix4'](),'instance':new c['Matrix4'](),'material':-0x1,'color':undefined,'customColor':![],'transformIdx':0x0};return A;},this['ReviewActionItem']=function(){let A={'visible':!![],'text':{'transform':new c['Matrix4'](),'offset':new c['Vector3']()},'drawitem':{'transform':new c['Matrix4'](),'offset':new c['Vector3']()},'style':{'font':{'enable':![],'color':new c['Color']()},'border':{'enable':![],'color':new c['Color']()},'background':{'enable':![],'color':new c['Color']()},'arrow':{'enable':![],'color':new c['Color']()},'line':{'enable':![],'color':new c['Color']()},'point':{'enable':![],'color':new c['Color']()},'triangle':{'enable':![],'color':new c['Color']()}}};return A;},this['PathInfo']=function(){let A={'start':undefined,'end':undefined,'drawType':c['Enum']['LINE_TYPES']['SOLID']};return A;},this['ReviewItem']=function(){let A={'id':d['UUIDv4'](),'itemType':c['Enum']['REVIEW_TYPES']['NONE'],'visible':!![],'selection':![],'text':{'value':[],'position':undefined},'drawitem':{'position':[],'custom':undefined,'axis':![]},'style':{'font':{'face':'Arial','size':0xc,'color':new c['Color']()},'border':{'enable':!![],'color':new c['Color'](),'thickness':0x1,'type':0x0,'round':0x5,'offset':0x5},'background':{'enable':!![],'color':new c['Color']()},'arrow':{'color':new c['Color'](),'size':0x8},'line':{'color':new c['Color'](),'thickness':0x1,'dash':[]},'point':{'enable':!![],'color':new c['Color'](),'size':0x2},'triangle':{'color':new c['Color']()}},'action':undefined,'onClick':undefined};return A;},this['ClipItem']=function(){let A={'visible':!![],'enable':!![],'id':d['UUIDv4'](),'itemType':c['Enum']['CLIPPING_MODES']['X'],'planes':[]};return A;},this['ClipPlane']=function(){let A={'vertex':[],'style':{'color':new c['Color'](0x4e,0x64,0x4e,0x80),'lineColor':new c['Color'](0xff,0xff,0xff,0xff)},'normal':new c['Vector3'](),'center':new c['Vector3'](),'handle':undefined};return A;},this['HandlerItem']=function(){let A={'enable':!![],'visible':!![],'center':new c['Vector3'](),'transform':new c['Matrix4'](),'id':d['UUIDv4'](),'itemType':c['Enum']['HANDLER_TYPE']['NONE'],'state':c['Enum']['HANDLE_MOUSE_STATE']['NONE'],'axis':{'x':{'enable':![],'normal':new c['Vector3'](0x1,0x0,0x0),'select':![]},'y':{'enable':![],'normal':new c['Vector3'](0x0,0x1,0x0),'select':![]},'z':{'enable':![],'normal':new c['Vector3'](0x0,0x0,0x1),'select':![]}},'panel':{'xy':{'enable':![],'select':![]},'yz':{'enable':![],'select':![]},'zx':{'enable':![],'select':![]}},'rotate':{'x':{'enable':![],'select':![]},'y':{'enable':![],'select':![]},'z':{'enable':![],'select':![]}},'sphere':{'enable':![],'select':![]},'style':{'length':0x64,'radius':0x4},'object':undefined};return A;},this['FileData']=function(){let A={'ID':d['UUIDv4'](),'Key':'','KeySubType':0x0,'Url':'','Downloaded':![],'Current':![],'Crash':![],'CacheData':![],'DataType':0x0,'Status':0x0,'Tag':null,'Header':undefined,'headerVersion':0x0};return A;},this['FrameBufferDataItem']=function(){let A={'itemType':c['Enum']['FB_RENDER_TYPES']['MAIN'],'framebufferID':null,'targetBuffer':null,'targetTexture':[],'targetDepth':null,'targetDepthTexture':null,'width':0x0,'height':0x0,'multiplier':0x1,'msaa':![],'sizeLock':![],'texStorageType':[]};return A;},this['TextureDataItem']=function(){let A={'texture':null,'width':0x0,'height':0x0,'itemType':c['Enum']['TEXTURE_TYPES']['NONE'],'uvChanel':0x0,'tiling':new c['Vector2'](0x1,0x1),'offset':new c['Vector2'](0x0,0x0),'src':undefined,'name':'','URL':'','downloading':![]};return A;},this['MaterialGLItem']=function(){let A={'id':0x0,'name':'','color':new c['Color'](0xff,0xff,0xff,0xff),'ambient':undefined,'specular':undefined,'emissive':undefined,'shiness':0.5,'reflectivity':1.52,'transparencyFactor':0x1,'roughness':0.5,'metallic':0x0,'textureData':[]};return A;},this['LightItem']=function(){let A={'Position':new c['Vector3'](),'Color':new c['Color'](0xff,0xff,0xff,0xff),'Power':0x1};return A;},this['CameraDataItem']=function(){let A={'id':d['UUIDv4'](),'matrix_view':new c['Matrix4'](),'matrix_camera':new c['Matrix4'](),'position':new c['Vector3'](),'up':new c['Vector3'](),'target':new c['Vector3'](),'zoom':0x1,'distance':0x1};return A;},this['TriangleItem']=function(){let A={'vertex':{'v1':new c['Vector3'](),'v2':new c['Vector3'](),'v3':new c['Vector3']()},'normal':{'v1':new c['Vector3'](),'v2':new c['Vector3'](),'v3':new c['Vector3']()},'index':[-0x1,-0x1,-0x1],'BBox':new c['BBox']()};return A;},this['PickDataItem']=function(){let A={'pick':![],'position':new c['Vector3'](),'normal':new c['Vector3'](),'surface':![],'triangle':d['TriangleItem'](),'body':undefined,'preselectKind':c['Enum']['PRESELECT_PICK_KIND']['NONE'],'preselect':undefined};return A;},this['PreselectEdgeItem']=function(){let A={'id':-0x1,'kind':0x0,'vData':[],'fValue':0x0};return A;},this['PreselectEdgeColorTableItem']=function(){let A={'id':0x0,'index':-0x1,'pickKind':c['Enum']['PRESELECT_PICK_KIND']['NONE']};return A;},this['ImageDataItem']=function(){let A={'image':undefined,'size':new c['Vector2'](),'align':0x0};return A;},this['PropertyValueItem']=function(A,B){if(A===undefined)A='';if(B===undefined)B='';let C={'key':A,'value':B};return C;},this['IDColor']=new c['Color'](0x0,0x0,0x0,0x1),this['Objects']=[],this['ObjectsUpdateLength']=0x0,this['ObjectsBBox']=undefined,this['Reviews']=[],this['Roots']=[],this['ObjectMap']=new Map(),this['AreaListMap']=new Map(),this['AreaMap']=new Map(),this['AreaSequenceMap']=new Map(),this['LODDownloadMap']=new Map(),this['LODMap']=new Map(),this['LODMeshMap']=new Map(),this['TreeMap']=new Map(),this['PropertyMap']=new Map(),this['BodyMap']=new Map(),this['IDMap']=new Map(),this['FileBodyMap']=new Map(),this['SetStartID']=function(A,B){f=e,d['IDMap']['set'](A,f),e+=B+0x1;},this['GetStartID']=function(A){if(a['useUniqueID'])return 0x0;let B=d['IDMap']['get'](A);if(B===undefined)return f;else return B;},this['ApplyStartID']=function(){f=e;},this['ApplyCurrentStartID']=function(){f=e,e+=g,g=0x0;},this['SetCurrentStartID']=function(A){g=A;},this['Load']='Data.Loaded',this['Parse']='Data.Parse',this['ParseType']=0x1,this['SessionID']='',this['AliveTimer']=null,this['AliveTime']=0xa*0x3c*0x3e8,this['Check']=function(A){if(a['TRIAL']){let B=new Date(0x185657a6c00),C=new Date();B['getTime']()-C['getTime']()>0x0?(d['ParseType']=0x0,q['dispatchEvent'](this['Load'])):(d['ParseType']=0x1,q['dispatchEvent'](c['Enum']['EVENT_TYPES']['Data']['Parse']));}else{let D={'parse':function(F){let G=$['ajax']({'type':'GET','url':F,'async':![]})['responseText'];return G;}},E=D['parse'](A);if(E){let F=E['split']('@');F[0x0]['localeCompare']('5')===0x0?(d['ParseType']=0x0,d['SessionID']=F[0x1],d['AliveTimer']=setInterval(function(){d['Alive']();},d['AliveTime']),q['dispatchEvent'](this['Load'])):(d['ParseType']=0x1,a['Renderer']['Render'](),q['dispatchEvent'](c['Enum']['EVENT_TYPES']['Data']['Parse']));}else d['ParseType']=0x1,a['Renderer']['Render'](),q['dispatchEvent'](c['Enum']['EVENT_TYPES']['Data']['Parse']);}},this['Alive']=function(){let A={'parse':function(C){let D=$['ajax']({'type':'GET','url':C,'async':![]})['responseText'];return D;}},B=a['Configuration']['AUTHORITY_PARAMS']['Data']+'/?flag=4&id=5&msg='+d['SessionID'];A['parse'](B);},this['Disconnect']=function(){if(!a['TRIAL']){let A={'parse':function(C){let D=$['ajax']({'type':'GET','url':C,'async':!![]})['responseText'];return D;}},B=a['Configuration']['AUTHORITY_PARAMS']['Data']+'/?flag=4&id=3&msg='+d['SessionID'];A['parse'](B);}},this['GetCookie']=function(A){let B,C,D=document['cookie']['split'](';');for(let E=0x0;E<D['length'];E++){B=D[E]['substr'](0x0,D[E]['indexOf']('=')),C=D[E]['substr'](D[E]['indexOf']('=')+0x1),B=B['replace'](/^\s+|\s+$/g,'');if(B===A)return unescape(C);}},this['SetCookie']=function(A,B,C){let D=new Date();D['setDate'](D['getDate']()+C);let E=escape(B)+(C===null?'':';\x20expires='+D['toUTCString']());document['cookie']=A+'='+E;},this['LoadCookie']=function(){let A=d['GetCookie'](c['Enum']['CONFIG_KEY']['RENDER']['PROGRESSIVE']['ENABLE']);if(A===undefined)return;if(A['localeCompare']('')!==0x0&&A['localeCompare']('true')===0x0)a['Configuration']['Render']['Progressive']['Enable']=!![];else{if(A['localeCompare']('')!==0x0&&A['localeCompare']('false')===0x0)a['Configuration']['Render']['Progressive']['Enable']=![];}A=d['GetCookie'](c['Enum']['CONFIG_KEY']['RENDER']['PROGRESSIVE']['LIMITCOUNT']);if(A['localeCompare']('')!==0x0)a['Configuration']['Render']['Progressive']['LimitCount']=A*0x1;A=d['GetCookie'](c['Enum']['CONFIG_KEY']['RENDER']['CACHE']['ENABLE']);if(A['localeCompare']('')!==0x0&&A['localeCompare']('true')===0x0)a['Configuration']['Render']['Cache']['Enable']=!![];else{if(A['localeCompare']('')!==0x0&&A['localeCompare']('false')===0x0)a['Configuration']['Render']['Cache']['Enable']=![];}A=d['GetCookie'](c['Enum']['CONFIG_KEY']['RENDER']['CACHE']['LIMITCOUNT']);if(A['localeCompare']('')!==0x0)a['Configuration']['Render']['Cache']['LimitCount']=A*0x1;},this['SaveCookie']=function(){let A=0x1;d['SetCookie'](c['Enum']['CONFIG_KEY']['RENDER']['PROGRESSIVE']['ENABLE'],a['Configuration']['Render']['Progressive']['Enable'],A),d['SetCookie'](c['Enum']['CONFIG_KEY']['RENDER']['PROGRESSIVE']['LIMITCOUNT'],a['Configuration']['Render']['Progressive']['LimitCount'],A),d['SetCookie'](c['Enum']['CONFIG_KEY']['RENDER']['CACHE']['ENABLE'],a['Configuration']['Render']['Cache']['Enable'],A),d['SetCookie'](c['Enum']['CONFIG_KEY']['RENDER']['CACHE']['LIMITCOUNT'],a['Configuration']['Render']['Cache']['LimitCount'],A),d['SetCookie'](c['Enum']['CONFIG_KEY']['RENDER']['PRIORITY'],a['Configuration']['Render']['Priority'],A);};function p(A,B,C){let D;return D=A['measureText'](B),D['height']=C['size']*1.5,D['ascent']=C['size']+C['size']*0.1,D;}this['DataProcessCheck']=function(A,B){A['clearRect'](0x0,0x0,A['canvas']['width'],A['canvas']['height']);if(a['Data']['ParseType']===0x1){let C={'face':'Arial','size':0x18,'color':new c['Color'](0xff,0xff,0xff,0xff)},D=new c['Color'](0x36,0xaf,0xb8,0xff),E=new c['Color'](0xc,0x33,0x49,0xb2),F='License\x20Expired\x20!',G=p(A,F,C),H={'x':A['canvas']['width']/0x2-0xe1,'y':A['canvas']['height']/0x2-0x4b,'width':0x1c2,'height':0x96,'round':0xa};A['fillStyle']=a['Data']['GetColorString'](D),A['shadowBlur']=0x5,A['shadowOffsetX']=0x7,A['shadowOffsetY']=0x7,A['shadowColor']=a['Data']['GetColorString'](E),B(A,H['x'],H['y'],H['width'],H['height'],H['round'],!![],![]);let I=document['getElementById']('ui_notice_img_warning');I['onload']=function(){d['RenderEvent']=!![];};let J=H['x']+0x3c;A['drawImage'](I,J,H['y']+(H['height']/0x2-0x20),0x40,0x40),A['fillStyle']=a['Data']['GetColorString'](C['color']),A['font']=C['size']+'pt\x20'+C['face'],A['textBaseline']='top';let K=G['height'];A['fillText'](F,J+0x68,H['y']+0x21+G['ascent']/0x2-0x1);let L='Contact\x20your\x20administrator.';C['size']=0xe,A['font']=C['size']+'pt\x20'+C['face'],G=p(A,L,C),A['fillText'](L,J+0x68,H['y']+0x21+K+0xa+G['ascent']/0x2-0x1),A['shadowBlur']=0x0,A['shadowOffsetX']=0x0,A['shadowOffsetY']=0x0,A['shadowColor']=a['Data']['GetColorString'](E),A['textBaseline']='alphabetic';}};let q=new c['EventDispatcher'](window,undefined);this['EventHandler']=q,this['TmpTransform']=new c['Vector3'](0x0,0x0,0x0);function r(){e=0x0,f=0x0,g=0x0,d['IDColor']=new c['Color'](0x0,0x0,0x0,0x1),d['Objects']=[],d['ObjectsUpdateLength']=0x0,d['ObjectsBBox']=undefined,d['Reviews']=[],d['Roots']=[],d['ObjectMap']['clear'](),d['AreaListMap']['clear'](),d['TreeMap']['clear'](),d['PropertyMap']['clear'](),d['BodyMap']['clear'](),d['IDMap']['clear']();};this['GetStringLeft']=function(A,B,C){if(A['length']<C)return A;else return A['substring'](B,C);},this['GetPath']=function(A){let B=A['split']('/'),C='';for(let D=0x0;D<B['length']-0x1;D++){C+=B[D]+'/';}return C;};function s(A,B){let C=a['Data']['GetStringLeft'](A,A['length']-0x5);return C+'_s_'+B+'.vizw';}function t(A,B){let C=a['Data']['GetStringLeft'](A,A['length']-0x5);return C+'_u_'+B+'.vizw';}function u(A,B){let C=a['Data']['GetStringLeft'](A,A['length']-0x5);return C+'_'+B+'.vizw';}this['AddAreaListMap']=function(A,B){if(B['length']>0x0){let C,D;for(let E=0x0;E<B['length'];E++){E===0x0?(C=B[E]['bbox']['min'],D=B[E]['bbox']['max']):(C['min'](B[E]['bbox']['min']),D['max'](B[E]['bbox']['max']));}d['ObjectsBBox']===undefined?d['ObjectsBBox']=d['BBox']([C['x'],C['y'],C['z'],D['x'],D['y'],D['z']]):(C['min'](d['ObjectsBBox']['min']),D['max'](d['ObjectsBBox']['max']),d['ObjectsBBox']=d['BBox']([C['x'],C['y'],C['z'],D['x'],D['y'],D['z']]));}if(!a['useAreaListMapData'])return;!d['AreaListMap']['has'](A)&&d['AreaListMap']['set'](A,B);},this['GetAreaObejctsURL']=function(){let A=new Map();const B=new c['Matrix4']();B['copy'](a['Camera']['cameraMatrix']);const C=new c['Matrix4']()['multiplyMatrices'](a['Camera']['projectionMatrix'],B);let D;if(a['Camera']['perspectiveView'])D=new c['Vector3'](a['Renderer']['GetSizeWidth']()/0x2,a['Renderer']['GetSizeHeight']()/0x2,0x0);else D=new c['Vector3'](a['Renderer']['GetSizeWidth']()/0x2,a['Renderer']['GetSizeHeight']()/0x2,-0x1);const E=a['Camera']['screen2WorldWithMatrix'](C,D),F=a['Renderer']['GetSizeWidth'](),G=a['Renderer']['GetSizeHeight'](),H=0x0,I=F,J=0x0,K=G;let L=new c['Vector3'](H,J,0x0),M=new c['Vector3'](I,J,0x0),N=new c['Vector3'](I,K,0x0),O=new c['Vector3'](H,K,0x0),P=function(W,X,Y,Z){let a0,a1;a0=new c['Vector3']()['subVectors'](Y,X),a1=new c['Vector3']()['subVectors'](W,X);let a2=a0['x']*a1['y']-a0['y']*a1['x'];a0=new c['Vector3']()['subVectors'](Z,Y),a1=new c['Vector3']()['subVectors'](W,Y);let a3=a0['x']*a1['y']-a0['y']*a1['x'];a0=new c['Vector3']()['subVectors'](X,Z),a1=new c['Vector3']()['subVectors'](W,Z);let a4=a0['x']*a1['y']-a0['y']*a1['x'];if(a2<=0x0&&a3<=0x0&&a4<=0x0||a2>=0x0&&a3>=0x0&&a4>=0x0)return!![];return![];},Q=function(W,X,Y){if(W['x']>=L['x']&&X['x']>=L['x']&&Y['x']>=L['x']&&W['y']>=L['y']&&X['y']>=L['y']&&Y['y']>=L['y']){if(W['x']<=N['x']&&X['x']<=N['x']&&Y['x']<=N['x']&&W['y']<=N['y']&&X['y']<=N['y']&&Y['y']<=N['y'])return!![];}return![];},R=function(W,X,Y,Z){if(new c['Vector3']()['subVectors'](X,W)['length']()<1e-7)return![];if(new c['Vector3']()['subVectors'](Z,Y)['length']()<1e-7)return![];if(W['x']>=X['x']){if(W['x']<Y['x']&&W['x']<Z['x']||X['x']>Y['x']&&X['x']>Z['x'])return![];}else{if(X['x']<Y['x']&&X['x']<Z['x']||W['x']>Y['x']&&W['x']>Z['x'])return![];}if(W['y']>=X['y']){if(W['y']<Y['y']&&W['y']<Z['y']||X['y']>Y['y']&&X['y']>Z['y'])return![];}else{if(X['y']<Y['y']&&X['y']<Z['y']||W['y']>Y['y']&&W['y']>Z['y'])return![];}if(((W['x']-X['x'])*(Y['y']-W['y'])+(W['y']-X['y'])*(W['x']-Y['x']))*((W['x']-X['x'])*(Z['y']-W['y'])+(W['y']-X['y'])*(W['x']-Z['x']))>0x0)return![];if(((Y['x']-Z['x'])*(W['y']-Y['y'])+(Y['y']-Z['y'])*(Y['x']-W['x']))*((Y['x']-Z['x'])*(X['y']-Y['y'])+(Y['y']-Z['y'])*(Y['x']-X['x']))>0x0)return![];return!![];},S=function(W,X,Y){const Z=Math['min'](W['x'],Math['min'](X['x'],Y['x'])),a0=Math['min'](W['y'],Math['min'](X['y'],Y['y'])),a1=Math['max'](W['x'],Math['max'](X['x'],Y['x'])),a2=Math['max'](W['y'],Math['max'](X['y'],Y['y']));if(a1<L['x']||Z>M['x']||a2<L['y']||a0>N['y'])return 0x0;if(Q(W,X,Y))return 0x1;{if(P(L,W,X,Y)||P(M,W,X,Y)||P(N,W,X,Y)||P(O,W,X,Y))return 0x2;}{if(R(W,X,L,M))return 0x3;if(R(W,X,M,N))return 0x3;if(R(W,X,N,O))return 0x3;if(R(W,X,O,L))return 0x3;if(R(X,Y,L,M))return 0x3;if(R(X,Y,M,N))return 0x3;if(R(X,Y,N,O))return 0x3;if(R(X,Y,O,L))return 0x3;if(R(Y,W,L,M))return 0x3;if(R(Y,W,M,N))return 0x3;if(R(Y,W,N,O))return 0x3;if(R(Y,W,O,L))return 0x3;}return 0x0;},T=function(W,X,Y){let Z=new Map(),a0=[[0x0,0x1,0x2],[0x1,0x2,0x3],[0x4,0x5,0x6],[0x5,0x6,0x7],[0x0,0x2,0x4],[0x2,0x4,0x6],[0x1,0x3,0x5],[0x3,0x5,0x7],[0x2,0x3,0x6],[0x3,0x6,0x7],[0x0,0x1,0x4],[0x1,0x4,0x5]];for(let a4=0x0;a4<W['length'];a4++){if(W[a4]['list']['length']<=0x0)continue;let a5=a['Util']['GetBBox2Vertex'](W[a4]['bbox']),a6=[],a7,a8;for(let ab=0x0;ab<0x8;ab++){a6[ab]=a['Camera']['world2ScreenWithMatrix'](C,a5[ab]),ab===0x0?(a7=new c['Vector3']()['copy'](a6[ab]),a8=new c['Vector3']()['copy'](a6[ab])):(a7['min'](a6[ab]),a7['max'](a6[ab]));}let a9=![],aa=0x0;for(let ac=0x0;ac<0xc;ac++){aa=S(a6[a0[ac][0x0]],a6[a0[ac][0x1]],a6[a0[ac][0x2]],L,M,N,O);if(aa!==0x0){if(a['Camera']['perspectiveView']){if(a7['z']<0x0)continue;}else{if(a7['z']<-0x1)continue;}a9=!![];break;}}if(a9){let ad=new c['Vector3']()['addVectors'](a7,a8);ad['multiplyScalar'](0.5);let ae=a['Camera']['screen2WorldWithMatrix'](C,ad);const af=new c['Vector3']()['subVectors'](E,ae)['length']();for(let ag=0x0;ag<W[a4]['list']['length'];ag++){let ah={'distance':af,'itemType':aa,'num':W[a4]['list'][ag]};if(!Z['has'](W[a4]['list'][ag]))Z['set'](W[a4]['list'][ag],ah);else{const ai=Z['get'](W[a4]['list'][ag]);if(ah['itemType']===ai['itemType']){if(af<ai['distance'])Z['set'](W[a4]['list'][ag],ah);}else{if(ai['itemType']===0x3)continue;else{if(ah['itemType']===0x3)Z['set'](W[a4]['list'][ag],ah);}if(ai['itemType']===0x1)continue;else{if(ah['itemType']===0x1)Z['set'](W[a4]['list'][ag],ah);}if(ai['itemType']===0x2)continue;else{if(ah['itemType']===0x2)Z['set'](W[a4]['list'][ag],ah);}}}}}}let a1=X,a2=a['Data']['GetStringLeft'](a1,0x0,a1['length']-0x5),a3=function(aj,ak,al){let am=a2+'_'+ak+'.vizw';A['set'](am,aj);};Z['forEach'](a3);},U=function(W,X,Y){V['indexOf'](X)<0x0&&(V[V['length']]=X);};d['AreaListMap']['forEach'](T);let V=[];if(A['size']>0x0){let W=[],X=function(Y,Z,a0){W[W['length']]=[Z,Y];};A['forEach'](X),W['sort'](function(Y,Z){if(Y[0x1]['itemType']===Z[0x1]['itemType'])switch(Y[0x1]['itemType']){case 0x1:if(Y[0x1]['num']>Z[0x1]['num'])return 0x1;else{if(Y[0x1]['num']===Z[0x1]['num'])return 0x0;}break;case 0x2:if(Y[0x1]['distance']>Z[0x1]['distance'])return 0x1;else{if(Y[0x1]['distance']===Z[0x1]['distance'])return 0x0;}break;case 0x3:if(Y[0x1]['distance']>Z[0x1]['distance'])return 0x1;else{if(Y[0x1]['distance']===Z[0x1]['distance'])return 0x0;}break;}else{if(Y[0x1]['itemType']===0x3)return-0x1;else{if(Z[0x1]['itemType']===0x3)return 0x1;}if(Y[0x1]['itemType']===0x1)return-0x1;else{if(Z[0x1]['itemType']===0x1)return 0x1;}if(Y[0x1]['itemType']===0x2)return-0x1;else{if(Z[0x1]['itemType']===0x2)return 0x1;}}return-0x1;});for(let Y=0x0;Y<W['length'];Y++){V[Y]=W[Y][0x0];}}return d['ObjectMap']['forEach'](U),V;},this['GetAreaObjectsURL_LOD']=function(){if(a['Configuration']['Render']['Cache']['Enable']===![]){let U=[],V=function(W,X,Y){for(let Z=0x0;Z<W['length'];Z++){let a0=W[Z];if(a['DemoType']===0x3){if(a0['lod']===0x1)continue;}let a1=X,a2=a1;U['push'](a2);break;}};return d['AreaListMap']['forEach'](V),U;}let A=0x0;if(a['DemoType']===0x0){if(a['Camera']['cameraZoom']<0.05735421910125164)A=0x5;else{if(a['Camera']['cameraZoom']<0.07559944833472274)A=0x4;else{if(a['Camera']['cameraZoom']<0.10734324368961418)A=0x3;else{if(a['Camera']['cameraZoom']<0.3073432436896142)A=0x2;else{if(a['Camera']['cameraZoom']<1.514125)A=0x1;}}}}}else{if(a['DemoType']===0x1){if(a['Camera']['cameraZoom']<0.00763075959478948)A=0x5;else{if(a['Camera']['cameraZoom']<0.01363075959478948)A=0x4;else{if(a['Camera']['cameraZoom']<0.02763075959478948)A=0x3;else{if(a['Camera']['cameraZoom']<0.05294560142183717)A=0x2;else{if(a['Camera']['cameraZoom']<1.014125)A=0x1;}}}}}else{if(a['Camera']['cameraZoom']<0.05735421910125164)A=0x5;else{if(a['Camera']['cameraZoom']<0.07559944833472274)A=0x4;else{if(a['Camera']['cameraZoom']<0.10734324368961418)A=0x3;else{if(a['Camera']['cameraZoom']<0.3073432436896142)A=0x2;else{if(a['Camera']['cameraZoom']<1.514125)A=0x1;}}}}}}let B=[],C=new c['Matrix4']()['multiplyMatrices'](a['Camera']['projectionMatrix'],a['Camera']['cameraMatrix']),D=new c['Matrix4']()['copy'](a['Camera']['cameraMatrix']),E=new c['Matrix4']()['getInverse'](D),F=E['multiplyVector'](a['Camera']['cameraPosition']),G=E['multiplyVector'](a['Camera']['cameraTarget']),H=a['Camera']['near'],I=new c['Vector3']()['subVectors'](G,F);I['normalize']();let J=[I['x'],I['y'],I['z'],0x0],K=new c['Vector3']()['addVectors'](F,I['multiplyScalar'](H));J[0x3]=-(J[0x0]*K['x']+J[0x1]*K['y']+J[0x2]*K['z']);let L=J[0x0]*K['x']+J[0x1]*K['y']+J[0x2]*K['z']+J[0x3],M=C['multiplyVector'](K),N=function(W,X,Y){let Z=0x0,a0=[];for(let a1=0x0;a1<W['length'];a1++){let a2=W[a1],a3=a2['bbox']['min']['x'],a4=a2['bbox']['max']['x'],a5=a2['bbox']['min']['y'],a6=a2['bbox']['max']['y'],a7=a2['bbox']['min']['z'],a8=a2['bbox']['max']['z'];if(a['Clipping']['IsClipping']){let ai=a['Clipping']['Get']();if(ai!==undefined){if(ai['planes']['length']===0x1){if(ai['itemType']===c['Enum']['CLIPPING_MODES']['X']){if(ai['planes'][0x0]['normal']['x']<0x0){if(a3>ai['planes'][0x0]['center']['x'])continue;}if(ai['planes'][0x0]['normal']['x']>0x0){if(a4<ai['planes'][0x0]['center']['x'])continue;}}if(ai['itemType']===c['Enum']['CLIPPING_MODES']['Y']){if(ai['planes'][0x0]['normal']['y']<0x0){if(a5>ai['planes'][0x0]['center']['y'])continue;}if(ai['planes'][0x0]['normal']['y']>0x0){if(a6<ai['planes'][0x0]['center']['y'])continue;}}if(ai['itemType']===c['Enum']['CLIPPING_MODES']['Z']){if(ai['planes'][0x0]['normal']['z']<0x0){if(a7>ai['planes'][0x0]['center']['z'])continue;}if(ai['planes'][0x0]['normal']['z']>0x0){if(a8<ai['planes'][0x0]['center']['z'])continue;}}}else{if(ai['itemType']===c['Enum']['CLIPPING_MODES']['BOX']){if(a4<ai['planes'][0x0]['center']['x'])continue;if(a3>ai['planes'][0x1]['center']['x'])continue;if(a6<ai['planes'][0x2]['center']['y'])continue;if(a5>ai['planes'][0x3]['center']['y'])continue;if(a8<ai['planes'][0x4]['center']['z'])continue;if(a7>ai['planes'][0x5]['center']['z'])continue;}if(ai['itemType']===c['Enum']['CLIPPING_MODES']['Y']){if(ai['planes'][0x0]['normal']['y']<0x0){if(a5>ai['planes'][0x0]['center']['y'])continue;}if(ai['planes'][0x0]['normal']['y']>0x0){if(a6<ai['planes'][0x0]['center']['y'])continue;}}if(ai['itemType']===c['Enum']['CLIPPING_MODES']['Z']){if(ai['planes'][0x0]['normal']['z']<0x0){if(a7>ai['planes'][0x0]['center']['z'])continue;}if(ai['planes'][0x0]['normal']['z']>0x0){if(a8<ai['planes'][0x0]['center']['z'])continue;}}}}}let a9=0x0,aa=0x0,ab=0x0,ac=0x0,ad=-0x1;{let aj=[];aj['push'](new c['Vector3'](a3,a5,a7)),aj['push'](new c['Vector3'](a4,a5,a7)),aj['push'](new c['Vector3'](a4,a6,a7)),aj['push'](new c['Vector3'](a3,a6,a7)),aj['push'](new c['Vector3'](a3,a5,a8)),aj['push'](new c['Vector3'](a4,a5,a8)),aj['push'](new c['Vector3'](a4,a6,a8)),aj['push'](new c['Vector3'](a3,a6,a8));let ak=[[0x0,0x3,0x4],[0x0,0x1,0x5],[0x1,0x2,0x6],[0x2,0x3,0x7],[0x4,0x8,0xb],[0x5,0x8,0x9],[0x6,0x9,0xa],[0x7,0xa,0xb]],al=[[0x0,0x1],[0x1,0x2],[0x2,0x3],[0x3,0x0],[0x0,0x4],[0x1,0x5],[0x2,0x6],[0x3,0x7],[0x4,0x5],[0x5,0x6],[0x6,0x7],[0x7,0x4]];for(let ao=0x0;ao<aj['length'];ao++){let ap=J[0x0]*aj[ao]['x']+J[0x1]*aj[ao]['y']+J[0x2]*aj[ao]['z']+J[0x3];if(ap>=-0x1)a0['push'](new c['Vector3'](aj[ao]['x'],aj[ao]['y'],aj[ao]['z']));else for(let aq=0x0;aq<0x3;aq++){let ar=al[ak[ao][aq]][0x0],as=al[ak[ao][aq]][0x1],at=J[0x0]*aj[ar]['x']+J[0x1]*aj[ar]['y']+J[0x2]*aj[ar]['z']+J[0x3],au=J[0x0]*aj[as]['x']+J[0x1]*aj[as]['y']+J[0x2]*aj[as]['z']+J[0x3];if(at<-0x1&&au<-0x1)continue;let av=J[0x0]*aj[ar]['x']+J[0x1]*aj[ar]['y']+J[0x2]*aj[ar]['z']+J[0x3],aw=J[0x0]*aj[as]['x']+J[0x1]*aj[as]['y']+J[0x2]*aj[as]['z']+J[0x3];av=Math['abs'](av),aw=Math['abs'](aw);let ax=av+aw;if(Math['abs'](ax)<0.000001){a0['push'](new c['Vector3'](aj[ao]['x'],aj[ao]['y'],aj[ao]['z']));continue;}let ay=new c['Vector3']()['addVectors'](new c['Vector3']()['copy'](aj[ar])['multiplyScalar'](aw/ax),new c['Vector3']()['copy'](aj[as])['multiplyScalar'](av/ax));a0['push'](new c['Vector3'](ay['x'],ay['y'],ay['z']));}}let am=new c['Vector3']()['copy'](a2['bbox']['center']),an=C['multiplyVector'](am);for(let az=0x0;az<a0['length'];az++){let aA=C['multiplyVector'](a0[az]);az===0x0?(a9=aa=aA['x'],ab=ac=aA['y'],ad=aA['z']):(a9=Math['min'](a9,aA['x']),aa=Math['max'](aa,aA['x']),ab=Math['min'](ab,aA['y']),ac=Math['max'](ac,aA['y']),ad=Math['min'](ad,aA['z']));}}let ae=function(){let aB={'index':[],'screenXY':[],'screenDepth':0x0,'distFromCenter':0x0,'file':'','lod':a2['lod'],'lod_sequence':a2['lod_sequence'],'key':''};return aB;},af=[0.005,0.005],ag=aa-a9,ah=ac-ab;if(a0['length']>0x0&&ag>af[0x0]&&ah>af[0x1]){let aB=a3+(a4-a3)*0.5,aC=a5+(a6-a5)*0.5,aD=a7+(a8-a7)*0.5,aE=new c['Vector3']((a9+aa)/0x2,(ab+ac)/0x2,ad);if(aa<-0x1||a9>0x1||ac<-0x1||ab>0x1);else{Z++;let aF=ae();aF['screenXY']['push'](aE['x']),aF['screenXY']['push'](aE['y']),aF['screenDepth']=aE['z'];let aG=new c['Vector3'](aE['x'],aE['y'],0x0);aF['distFromCenter']=0x0;let aH=X,aI=a['Data']['GetStringLeft'](aH,0x0,aH['length']-0x5),aJ=aH;aF['file']=aJ,aF['key']=a2['id_file'],B['push'](aF);}}}},O=function(W,X,Y){let Z=0x0,a0=[];for(let a1=0x0;a1<W['length'];a1++){let a2=W[a1],a3=a2['bbox']['min']['x'],a4=a2['bbox']['max']['x'],a5=a2['bbox']['min']['y'],a6=a2['bbox']['max']['y'],a7=a2['bbox']['min']['z'],a8=a2['bbox']['max']['z'];if(a['Clipping']['IsClipping']){let ai=a['Clipping']['Get']();if(ai!==undefined){if(ai['planes']['length']===0x1){if(ai['itemType']===c['Enum']['CLIPPING_MODES']['X']){if(ai['planes'][0x0]['normal']['x']<0x0){if(a3>ai['planes'][0x0]['center']['x'])continue;}if(ai['planes'][0x0]['normal']['x']>0x0){if(a4<ai['planes'][0x0]['center']['x'])continue;}}if(ai['itemType']===c['Enum']['CLIPPING_MODES']['Y']){if(ai['planes'][0x0]['normal']['y']<0x0){if(a5>ai['planes'][0x0]['center']['y'])continue;}if(ai['planes'][0x0]['normal']['y']>0x0){if(a6<ai['planes'][0x0]['center']['y'])continue;}}if(ai['itemType']===c['Enum']['CLIPPING_MODES']['Z']){if(ai['planes'][0x0]['normal']['z']<0x0){if(a7>ai['planes'][0x0]['center']['z'])continue;}if(ai['planes'][0x0]['normal']['z']>0x0){if(a8<ai['planes'][0x0]['center']['z'])continue;}}}else{if(ai['itemType']===c['Enum']['CLIPPING_MODES']['BOX']){if(a4<ai['planes'][0x0]['center']['x'])continue;if(a3>ai['planes'][0x1]['center']['x'])continue;if(a6<ai['planes'][0x2]['center']['y'])continue;if(a5>ai['planes'][0x3]['center']['y'])continue;if(a8<ai['planes'][0x4]['center']['z'])continue;if(a7>ai['planes'][0x5]['center']['z'])continue;}if(ai['itemType']===c['Enum']['CLIPPING_MODES']['Y']){if(ai['planes'][0x0]['normal']['y']<0x0){if(a5>ai['planes'][0x0]['center']['y'])continue;}if(ai['planes'][0x0]['normal']['y']>0x0){if(a6<ai['planes'][0x0]['center']['y'])continue;}}if(ai['itemType']===c['Enum']['CLIPPING_MODES']['Z']){if(ai['planes'][0x0]['normal']['z']<0x0){if(a7>ai['planes'][0x0]['center']['z'])continue;}if(ai['planes'][0x0]['normal']['z']>0x0){if(a8<ai['planes'][0x0]['center']['z'])continue;}}}}}let a9=0x0,aa=0x0,ab=0x0,ac=0x0,ad=-0x1;{let aj=[];aj[0x0]=new c['Vector3'](a3,a5,a7),aj[0x1]=new c['Vector3'](a4,a5,a7),aj[0x2]=new c['Vector3'](a4,a6,a7),aj[0x3]=new c['Vector3'](a3,a6,a7),aj[0x4]=new c['Vector3'](a3,a5,a8),aj[0x5]=new c['Vector3'](a4,a5,a8),aj[0x6]=new c['Vector3'](a4,a6,a8),aj[0x7]=new c['Vector3'](a3,a6,a8);let ak=[[0x0,0x3,0x4],[0x0,0x1,0x5],[0x1,0x2,0x6],[0x2,0x3,0x7],[0x4,0x8,0xb],[0x5,0x8,0x9],[0x6,0x9,0xa],[0x7,0xa,0xb]],al=[[0x0,0x1],[0x1,0x2],[0x2,0x3],[0x3,0x0],[0x0,0x4],[0x1,0x5],[0x2,0x6],[0x3,0x7],[0x4,0x5],[0x5,0x6],[0x6,0x7],[0x7,0x4]];for(let ao=0x0;ao<aj['length'];ao++){let ap=J[0x0]*aj[ao]['x']+J[0x1]*aj[ao]['y']+J[0x2]*aj[ao]['z']+J[0x3];if(ap>=-0x1)a0['push'](new c['Vector3'](aj[ao]['x'],aj[ao]['y'],aj[ao]['z']));else for(let aq=0x0;aq<0x3;aq++){let ar=al[ak[ao][aq]][0x0],as=al[ak[ao][aq]][0x1],at=J[0x0]*aj[ar]['x']+J[0x1]*aj[ar]['y']+J[0x2]*aj[ar]['z']+J[0x3],au=J[0x0]*aj[as]['x']+J[0x1]*aj[as]['y']+J[0x2]*aj[as]['z']+J[0x3];if(at<-0x1&&au<-0x1)continue;let av=J[0x0]*aj[ar]['x']+J[0x1]*aj[ar]['y']+J[0x2]*aj[ar]['z']+J[0x3],aw=J[0x0]*aj[as]['x']+J[0x1]*aj[as]['y']+J[0x2]*aj[as]['z']+J[0x3];av=Math['abs'](av),aw=Math['abs'](aw);let ax=av+aw;if(Math['abs'](ax)<0.000001){a0['push'](new c['Vector3'](aj[ao]['x'],aj[ao]['y'],aj[ao]['z']));continue;}let ay=new c['Vector3']()['addVectors'](new c['Vector3']()['copy'](aj[ar])['multiplyScalar'](aw/ax),new c['Vector3']()['copy'](aj[as])['multiplyScalar'](av/ax));a0['push'](new c['Vector3'](ay['x'],ay['y'],ay['z']));}}let am=new c['Vector3']()['copy'](a2['bbox']['center']),an=C['multiplyVector'](am);for(let az=0x0;az<a0['length'];az++){let aA=C['multiplyVector'](a0[az]);az===0x0?(a9=aa=aA['x'],ab=ac=aA['y'],ad=aA['z']):(a9=Math['min'](a9,aA['x']),aa=Math['max'](aa,aA['x']),ab=Math['min'](ab,aA['y']),ac=Math['max'](ac,aA['y']),ad=Math['min'](ad,aA['z']));}}let ae=function(){let aB={'index':[],'screenXY':[],'screenDepth':0x0,'distFromCenter':0x0,'file':'','lod':a2['lod'],'lod_sequence':a2['lod_sequence'],'key':''};return aB;},af=[0.005,0.005],ag=aa-a9,ah=ac-ab;if(a0['length']>0x0&&ag>af[0x0]&&ah>af[0x1]){let aB=a3+(a4-a3)*0.5,aC=a5+(a6-a5)*0.5,aD=a7+(a8-a7)*0.5,aE=new c['Vector3']((a9+aa)/0x2,(ab+ac)/0x2,ad);if(aa<-0x1||a9>0x1||ac<-0x1||ab>0x1);else{Z++;let aF=ae();aF['screenXY']['push'](aE['x']),aF['screenXY']['push'](aE['y']),aF['screenDepth']=aE['z'];let aG=new c['Vector3'](aE['x'],aE['y'],0x0);aF['distFromCenter']=0x0;let aH=X,aI=aH;aF['file']=aI,aF['key']=a2['id_file'],B['push'](aF);}}}},P=function(W,X){if(W['lod']>X['lod'])return 0x1;if(W['lod']<X['lod'])return-0x1;if(W['lod_sequence']>X['lod_sequence'])return 0x1;else{if(W['lod_sequence']<X['lod_sequence'])return-0x1;}return 0x0;},Q=function(W,X){if(W['screenDepth']>X['screenDepth'])return 0x1;else{if(W['screenDepth']<X['screenDepth'])return-0x1;}return 0x0;},R=function(W,X){if(a['Configuration']['Render']['Priority']===c['Enum']['RENDER_PRIORITY']['LOD']){if(W['lod']>X['lod'])return 0x1;if(W['lod']<X['lod'])return-0x1;return 0x0;}else{if(W['lod']>X['lod'])return 0x1;if(W['lod']<X['lod'])return-0x1;if(W['screenDepth']>X['screenDepth'])return 0x1;if(W['screenDepth']<X['screenDepth'])return-0x1;}};if(a['Camera']['perspectiveView']){d['AreaListMap']['forEach'](O);let W=new Map(),X=new Map();for(let Y=0x0;Y<d['Objects']['length'];Y++){let Z=d['Objects'][Y],a0=0x0;for(let a1=0x0;a1<Z['tag']['length'];a1++){let a2=Z['tag'][a1];if(a2['action']['selection']===!![]){W['set'](Z['link'],Z['link']);break;}a2['action']['visible']===![]&&a0++;}if(a0===Z['tag']['length'])X['set'](Z['link'],Z['link']);}for(let a3=B['length']-0x1;a3>=0x0;a3--){if(X['has'](B[a3]['file']))B['splice'](a3,0x1);else W['has'](B[a3]['file'])&&(B[a3]['screenDepth']=-0x2);}if(B['length']>0x0){if(a['Configuration']['Render']['Priority']===c['Enum']['RENDER_PRIORITY']['DISTANCE'])B['sort'](Q);else{if(a['Configuration']['Render']['Priority']===c['Enum']['RENDER_PRIORITY']['SHUFFLE']){B['sort'](P);let a4=B['slice'](0x0,B['length']);B['sort'](Q);let a5=B['slice'](0x0,B['length']),a6=new Map();while(a4['length']!==0x0||a5['length']!==0x0){let a8=![],a9=![];while(!a8&&a4['length']!==0x0){!a6['has'](a4[0x0]['file'])?(a6['set'](a4[0x0]['file'],a4[0x0]),a4['splice'](0x0,0x1),a8=!![]):a4['splice'](0x0,0x1);}while(!a9&&a5['length']!==0x0){!a6['has'](a5[0x0]['file'])?(a6['set'](a5[0x0]['file'],a5[0x0]),a5['splice'](0x0,0x1),a9=!![]):a5['splice'](0x0,0x1);}}B['splice'](0x0,B['length']);let a7=function(aa,ab,ac){B['push'](aa);};B=Array['from'](a6['values']());}else B['sort'](P);}}if(a['useRenderLimit']){let aa=function(ab,ac,ad){ab=d['Objects']['length'],ad['set'](ac,ab);};d['AreaSequenceMap']['forEach'](aa);for(let ab=0x0;ab<B['length'];ab++){if(W['has'](B[ab]['file']))d['AreaSequenceMap']['set'](B[ab]['file'],-0x2);else d['AreaSequenceMap']['set'](B[ab]['file'],ab);}}a['Renderer']['Sort']();}else{d['AreaListMap']['forEach'](N);let ac=new Map();for(let ad=0x0;ad<d['Objects']['length'];ad++){let ae=d['Objects'][ad];for(let af=0x0;af<ae['tag']['length'];af++){let ag=ae['tag'][af];if(ag['action']['selection']===!![]){ac['set'](ae['link'],ae['link']);break;}}}for(let ah=0x0;ah<B['length'];ah++){ac['has'](B[ah]['file'])&&(B[ah]['screenDepth']=-0x2);}if(B['length']>0x0){if(a['Configuration']['Render']['Priority']===c['Enum']['RENDER_PRIORITY']['DISTANCE'])B['sort'](Q);else{if(a['Configuration']['Render']['Priority']===c['Enum']['RENDER_PRIORITY']['SHUFFLE']){B['sort'](P);let ai=B['slice'](0x0,B['length']);B['sort'](Q);let aj=B['slice'](0x0,B['length']),ak=new Map();for(let am=0x0;am<ai['length'];am++){!ak['has'](ai[am]['file'])&&ak['set'](ai[am]['file'],ai[am]),!ak['has'](aj[am]['file'])&&ak['set'](aj[am]['file'],aj[am]);}B['splice'](0x0,B['length']);let al=function(an,ao,ap){B['push'](an);};ak['forEach'](al);}else B['sort'](P);}}if(a['useRenderLimit']){let an=function(ao,ap,aq){ao=d['Objects']['length'],aq['set'](ap,ao);};d['AreaSequenceMap']['forEach'](an);for(let ao=0x0;ao<B['length'];ao++){if(ac['has'](B[ao]['file']))d['AreaSequenceMap']['set'](B[ao]['file'],-0x2);else d['AreaSequenceMap']['set'](B[ao]['file'],ao);}}a['Renderer']['Sort']();}let S=Math['min'](0xbb8,B['length']),T=new Array(S);for(let ap=0x0;ap<S;ap++){T[ap]=B[ap]['file'];}return a['Renderer']['UpdateCache'](),T;},this['UpdateObjectCache']=function(A,B,C){const D=a['RenderMeshBlockCacheNum'];for(let E=B['length']-0x1;E>=0x0;E--){let F=d['ObjectMap']['get'](B[E]);if(F===undefined)continue;if(F['length']>0x0){let G=F[0x0]['flag']['cache'];if(G&&C){if(F[0x0]['attribs']['a_index']['buffer']!==null)B['splice'](E,0x1);}}}if(a['lockMeshBlockCache']&&C)for(let H=0x0;H<B['length'];H++){let I=d['ObjectMap']['get'](B[H]);if(I===undefined)continue;let J=a['CurrentRenderMeshBlockCacheNum']+I['length']<D?!![]:![];for(let K=0x0;K<I['length'];K++){I[K]['flag']['cache']=J;}a['CurrentRenderMeshBlockCacheNum']+=I['length'];}return;},this['UpdateObjectCacheLOD']=function(A,B){const C=a['RenderMeshBlockCacheNum'];if(!B){if(a['useFramebufferCache']&&!a['lockMeshBlockCache'])for(let H=0x0;H<A['length'];H++){let I=d['ObjectMap']['get'](A[H]);if(I!==undefined){if(I['length']>0x0){let J=I[0x0]['flag']['cache'],K=d['AreaListMap']['get'](A[H]);if(K!==undefined){let L=0x0;for(let N=0x0;N<K['length'];N++){L+=K[N]['tri_num'];}let M=a['CurrentRenderMeshBlockCacheNum']+L<C?!![]:![];for(let O=0x0;O<I['length'];O++){I[O]['flag']['cache']=M;}if(M)a['CurrentRenderMeshBlockCacheNum']+=L;}else{let P=J;for(let Q=0x0;Q<I['length'];Q++){I[Q]['flag']['cache']=P;}if(P)a['CurrentRenderMeshBlockCacheNum']+=I['length'];}}}}else for(let R=0x0;R<A['length'];R++){let S=d['ObjectMap']['get'](A[R]);if(S!==undefined){if(S['length']>0x0){let T=S[0x0]['flag']['cache'];for(let U=0x0;U<S['length'];U++){S[U]['flag']['cache']=!![];}}}}return;}let D=[],E=new Map();{for(let V=A['length']-0x1;V>=0x0;V--){let W=d['ObjectMap']['get'](A[V]);E['set'](A[V],A[V]);if(W!==undefined){if(W['length']>0x0){let Y=W[0x0]['flag']['cache'];if(Y){if(W[0x0]['attribs']['a_index']['buffer']!==null){A['splice'](V,0x1);continue;}}}}let X=d['LODDownloadMap']['get'](A[V]);if(X!==undefined&&X['Status']===0x1){A['splice'](V,0x1);continue;}D['push'](A[V]);}}let F=function(Z,a0,a1){!E['has'](a0)&&D['push'](a0);};d['LODMap']['forEach'](F),a['Renderer']['ClearProcess'](D),d['ClearProcess'](D,d['LODMap']);for(let Z=0x0;Z<D['length'];Z++){let a0=d['LODDownloadMap']['get'](D[Z]);a0!==undefined&&a0['Status']===0x1&&(a0['Status']=0x3);}let G=function(a1,a2,a3){if(a1['Status']===0x0)a3['delete'](a2);};d['LODDownloadMap']['forEach'](G);},this['UpdateObjectCacheLOD1']=function(A,B){const C=a['RenderMeshBlockCacheNum'];if(!B){if(a['useFramebufferCache']&&!a['lockMeshBlockCache'])for(let H=0x0;H<A['length'];H++){let I=d['ObjectMap']['get'](A[H]['file']);if(I!==undefined){if(I['length']>0x0){let J=I[0x0]['flag']['cache'],K=d['AreaListMap']['get'](A[H]['file']);if(K!==undefined){let L=0x0;for(let N=0x0;N<K['length'];N++){L+=K[N]['tri_num'];}let M=a['CurrentRenderMeshBlockCacheNum']+L<C?!![]:![];for(let O=0x0;O<I['length'];O++){I[O]['flag']['cache']=M;}if(M)a['CurrentRenderMeshBlockCacheNum']+=L;}else{let P=J;for(let Q=0x0;Q<I['length'];Q++){I[Q]['flag']['cache']=P;}if(P)a['CurrentRenderMeshBlockCacheNum']+=I['length'];}}}}else for(let R=0x0;R<A['length'];R++){let S=d['ObjectMap']['get'](A[R]);if(S!==undefined){if(S['length']>0x0){let T=S[0x0]['flag']['cache'];for(let U=0x0;U<S['length'];U++){S[U]['flag']['cache']=!![];}}}}return;}let D=[],E=new Map();{for(let V=A['length']-0x1;V>=0x0;V--){let W=d['ObjectMap']['get'](A[V]);E['set'](A[V],A[V]);if(W!==undefined){if(W['length']>0x0){let Y=W[0x0]['flag']['cache'];if(Y){if(W[0x0]['attribs']['a_index']['buffer']!==null){A['splice'](V,0x1);continue;}}}}let X=d['LODDownloadMap']['get'](A[V]);if(X!==undefined&&X['Status']===0x1){A['splice'](V,0x1);continue;}D['push'](A[V]);}}let F=function(Z,a0,a1){!E['has'](a0)&&D['push'](a0);};d['LODMap']['forEach'](F),a['Renderer']['ClearProcess'](D),d['ClearProcess'](D,d['LODMap']);for(let Z=0x0;Z<D['length'];Z++){let a0=d['LODDownloadMap']['get'](D[Z]);a0!==undefined&&a0['Status']===0x1&&(a0['Status']=0x3);}let G=function(a1,a2,a3){if(a1['Status']===0x0)a3['delete'](a2);};d['LODDownloadMap']['forEach'](G);},this['UpdateObjectCacheLOD2']=function(A,B){const C=a['RenderMeshBlockCacheNum'];if(!B){if(a['useFramebufferCache']&&!a['lockMeshBlockCache'])for(let H=0x0;H<A['length'];H++){let I=d['ObjectMap']['get'](A[H]);if(I!==undefined){if(I['length']>0x0){let J=I[0x0]['flag']['cache'],K=d['AreaListMap']['get'](A[H]);if(K!==undefined){let L=0x0;for(let N=0x0;N<K['length'];N++){L+=K[N]['tri_num'];}let M=a['CurrentRenderMeshBlockCacheNum']+L<C?!![]:![];for(let O=0x0;O<I['length'];O++){I[O]['flag']['cache']=M;}if(M)a['CurrentRenderMeshBlockCacheNum']+=L;}else{let P=J;for(let Q=0x0;Q<I['length'];Q++){I[Q]['flag']['cache']=P;}if(P)a['CurrentRenderMeshBlockCacheNum']+=I['length'];}}}}else for(let R=0x0;R<A['length'];R++){let S=d['ObjectMap']['get'](A[R]);if(S!==undefined){if(S['length']>0x0){let T=S[0x0]['flag']['cache'];for(let U=0x0;U<S['length'];U++){S[U]['flag']['cache']=!![];}}}}return;}let D=[],E=new Map();{for(let V=A['length']-0x1;V>=0x0;V--){let W=d['ObjectMap']['get'](A[V]);E['set'](A[V],A[V]);if(W!==undefined){if(W['length']>0x0){let Y=W[0x0]['flag']['cache'];if(Y){if(W[0x0]['attribs']['a_index']['buffer']!==null){A['splice'](V,0x1);continue;}}}}let X=d['LODDownloadMap']['get'](A[V]);if(X!==undefined&&X['Status']===0x1){A['splice'](V,0x1);continue;}D['push'](A[V]);}}let F=function(Z,a0,a1){!E['has'](a0)&&D['push'](a0);};d['LODMap']['forEach'](F),a['Renderer']['ClearProcess'](D),d['ClearProcess'](D,d['LODMap']);for(let Z=0x0;Z<D['length'];Z++){let a0=d['LODDownloadMap']['get'](D[Z]);a0!==undefined&&a0['Status']===0x1&&(a0['Status']=0x3);}let G=function(a1,a2,a3){if(a1['Status']===0x0)a3['delete'](a2);};d['LODDownloadMap']['forEach'](G);},this['ClearProcess']=function(A,B){if(A===undefined)r();else for(let C=0x0;C<A['length'];C++){let D=B['get'](A[C]);D!==undefined&&B['delete'](A[C]);}},this['AddNode']=function(A){if(!a['useAddNodeData'])return;if(!d['TreeMap']['has'](A['index']))d['TreeMap']['set'](A['index'],A);else{}if(d['TreeMap']['has'](A['pIndex'])){let B=d['TreeMap']['get'](A['pIndex']);B['sub'][B['sub']['length']]=A;}},this['AddNodes']=function(A){if(!a['useAddNodeData'])return;for(let B=0x0;B<A['length'];B++){d['AddNode'](A[B]);}},this['AddBody']=function(A){let B=d['BodyMap']['get'](A['bodyId']);if(B!==undefined)B['push'](A),d['BodyMap']['set'](A['bodyId'],B);else{let C=[];C['push'](A),d['BodyMap']['set'](A['bodyId'],C);}},this['AddUserProperty']=function(A){for(let B=0x0;B<A['length'];B++){if(d['PropertyMap']['get'](A[B]['nodeId'])===undefined){let C=w();C['nodeId']=A[B]['nodeId'];for(let D=0x0;D<A[B]['items']['length'];D++){C['arrUserProperties']['push'](A[B]['items'][D]);}d['PropertyMap']['set'](C['nodeId'],C);}else{let E=d['PropertyMap']['get'](A[B]['nodeId']);for(let F=0x0;F<A[B]['items']['length'];F++){E['arrUserProperties']['push'](A[B]['items'][F]);}}}},this['GetNode']=function(A){return d['TreeMap']['get'](A);},this['GetParent']=function(A,B){let C=d['TreeMap']['get'](A);if(C!==undefined){if(B===0x0)return C;else return d['GetParent'](C['pIndex'],B-0x1);}else return C;},this['GetProperty']=function(A){return d['PropertyMap']['get'](A);},this['UpdateObjectsBBox']=function(){let A=d['ObjectsUpdateLength'],B=d['Objects']['length'],C=new c['Matrix4']();for(let D=A;D<B;++D){for(let E=0x0;E<a['Data']['Objects'][D]['tag']['length'];++E){let F=d['Objects'][D]['tag'][E],G=new c['Vector3']()['copy'](F['BBox']['min']),H=new c['Vector3']()['copy'](F['BBox']['max']);if(!C['equals'](F['action']['instance'])){let I=[new c['Vector3'](G['x'],G['y'],G['z']),new c['Vector3'](G['x'],G['y'],H['z']),new c['Vector3'](G['x'],H['y'],G['z']),new c['Vector3'](G['x'],H['y'],H['z']),new c['Vector3'](H['x'],G['y'],G['z']),new c['Vector3'](H['x'],G['y'],H['z']),new c['Vector3'](H['x'],H['y'],G['z']),new c['Vector3'](H['x'],H['y'],H['z'])];for(let J=0x0;J<0x8;++J){I[J]['applyMatrix4'](F['action']['instance']),J==0x0?(G['copy'](I[J]),H['copy'](I[J])):(G['min'](I[J]),H['max'](I[J]));}}D+E===0x0&&d['ObjectsBBox']===undefined?(d['ObjectsBBox']=a['Data']['BBox'](),d['ObjectsBBox']['min']['copy'](G),d['ObjectsBBox']['max']['copy'](H)):(d['ObjectsBBox']['min']['min'](G),d['ObjectsBBox']['max']['max'](H));}d['ObjectsBBox']['center']=new c['Vector3']((d['ObjectsBBox']['min']['x']+d['ObjectsBBox']['max']['x'])/0x2,(d['ObjectsBBox']['min']['y']+d['ObjectsBBox']['max']['y'])/0x2,(a['Data']['ObjectsBBox']['min']['z']+a['Data']['ObjectsBBox']['max']['z'])/0x2),d['ObjectsBBox']['radius']=new c['Vector3']()['subVectors'](d['ObjectsBBox']['max'],d['ObjectsBBox']['min'])['length']();}},this['GetBBox']=function(A){if(A===undefined){let B=d['BBox']();return d['ObjectsBBox']!==undefined&&(B['min']['copy'](d['ObjectsBBox']['min']),B['max']['copy'](d['ObjectsBBox']['max'])),B['update'](),B;}else{let C=new c['Matrix4'](),D=d['BBox']();for(let E=0x0;E<A['length'];E++){let F=new c['Vector3']()['copy'](A[E]['BBox']['min']),G=new c['Vector3']()['copy'](A[E]['BBox']['max']);if(!C['equals'](A[E]['action']['instance'])){let H=[new c['Vector3'](F['x'],F['y'],F['z']),new c['Vector3'](F['x'],F['y'],G['z']),new c['Vector3'](F['x'],G['y'],F['z']),new c['Vector3'](F['x'],G['y'],G['z']),new c['Vector3'](G['x'],F['y'],F['z']),new c['Vector3'](G['x'],F['y'],G['z']),new c['Vector3'](G['x'],G['y'],F['z']),new c['Vector3'](G['x'],G['y'],G['z'])];for(let I=0x0;I<0x8;++I){H[I]['applyMatrix4'](A[E]['action']['instance']),I===0x0?(F['copy'](H[I]),G['copy'](H[I])):(F['min'](H[I]),G['max'](H[I]));}}E===0x0?(D['min']['copy'](F),D['max']['copy'](G)):(D['min']['min'](F),D['max']['max'](G));}return D['update'](),D;}},this['GetBBoxByID']=function(A){let B=new c['Matrix4'](),C=d['BBox']();if(a['useTree'])for(let D=0x0;D<A['length'];D++){let E=a['Tree']['GetBBox'](A[D]),F=new c['Vector3']()['copy'](E['min']),G=new c['Vector3']()['copy'](E['max']);D===0x0?(C['min']['copy'](F),C['max']['copy'](G)):(C['min']['min'](F),C['max']['max'](G));}else{let H=[];for(let I=0x0;I<A['length'];I++){let J=[],K=new Map();x(id,J,K);for(let L=0x0;L<J['length'];L++){H['push'](J[L]);}}return d['GetBBox'](H);}return C['update'](),C;},this['GetBBoxFormOriginal']=function(A){if(A===undefined){let B=d['BBox']();return B;}else{let C=d['BBox'](),D=new c['Matrix4']();for(let E=0x0;E<A['length'];E++){let F=new c['Vector3']()['copy'](A[E]['BBox']['min']),G=new c['Vector3']()['copy'](A[E]['BBox']['max']);E===0x0?(C['min']['copy'](F),C['max']['copy'](G)):(C['min']['min'](F),C['max']['max'](G));}return C['update'](),C;}},this['GetBBoxFormMatrix']=function(A){if(A===undefined){let B=d['BBox']();return d['ObjectsBBox']!==undefined&&(B['min']['copy'](d['ObjectsBBox']['min']),B['max']['copy'](d['ObjectsBBox']['max'])),B['update'](),B;}else{let C=new c['Matrix4'](),D=d['BBox']();for(let E=0x0;E<A['length'];E++){let F=new c['Vector3']()['copy'](A[E]['BBox']['min']),G=new c['Vector3']()['copy'](A[E]['BBox']['max']);if(!C['equals'](A[E]['action']['transform'])){let H=[new c['Vector3'](F['x'],F['y'],F['z']),new c['Vector3'](F['x'],F['y'],G['z']),new c['Vector3'](F['x'],G['y'],F['z']),new c['Vector3'](F['x'],G['y'],G['z']),new c['Vector3'](G['x'],F['y'],F['z']),new c['Vector3'](G['x'],F['y'],G['z']),new c['Vector3'](G['x'],G['y'],F['z']),new c['Vector3'](G['x'],G['y'],G['z'])];for(let I=0x0;I<0x8;++I){H[I]['applyMatrix4'](A[E]['action']['transform']),I===0x0?(F['copy'](H[I]),G['copy'](H[I])):(F['min'](H[I]),G['max'](H[I]));}}E===0x0?(D['min']['copy'](F),D['max']['copy'](G)):(D['min']['min'](F),D['max']['max'](G));}return D['update'](),D;}},this['GetObjectBBox']=function(A){let B=[],C=new Map();x(A,B,C);let D=!![],E=d['BBox']();for(let F=0x0;F<d['ObjectsUpdateLength'];F++){let G=d['Objects'][F];for(let H=0x0;H<G['tag']['length'];H++){let I=G['tag'][H];C!==undefined&&(C['get'](I['bodyId'])!==undefined&&(D?(E['min']['copy'](I['BBox']['min']),E['max']['copy'](I['BBox']['max']),D=![]):(E['min']['min'](I['BBox']['min']),E['max']['max'](I['BBox']['max']))));}}return E['center']=new c['Vector3']((E['min']['x']+E['max']['x'])/0x2,(E['min']['y']+E['max']['y'])/0x2,(E['min']['z']+E['max']['z'])/0x2),E['radius']=new c['Vector3']()['copy'](E['max'])['sub'](E['min'])['length'](),E;};function v(A,B){let C=d['BBox']();for(let D=A['m_vnIdx'];D<A['m_vnIdx']+A['m_nVtx'];D+=0x3){let E=new c['Vector3'](B[D],B[D+0x1],B[D+0x2]);D===A['m_vnIdx']?(C['min']['copy'](E),C['max']['copy'](E)):(C['min']['min'](E),C['max']['max'](E));}return C['center']=new c['Vector3']((C['min']['x']+C['max']['x'])/0x2,(C['min']['y']+C['max']['y'])/0x2,(C['min']['z']+C['max']['z'])/0x2),C;}this['UUIDv4']=function A(B){return B?(B^Math['random']()*0x10>>B/0x4)['toString'](0x10):([0x989680]+-0x3e8+-0xfa0+-0x1f40+-0x174876e800)['replace'](/[018]/g,A);},this['GetNode']=function(B){return this['TreeMap']['get'](B);},this['GetSubNodes']=function(B){return B===-0x1?this['Roots']:this['TreeMap']['get'](B)['sub'];},this['GetNodeData']=function(B){let C=[],D=new Map();x(B,C,D);let E=[];for(let F=0x0;F<d['Objects']['length'];F++){let G=d['Objects'][F];for(let H=0x0;H<G['tag']['length'];H++){let I=G['tag'][H];D!==undefined&&(D['get'](I['bodyId'])!==undefined&&(I['object']=G,E['push'](I)));}}return E;},this['GetBody']=function(B){return a['useTree']?d['GetNodeData'](B):d['BodyMap']['get'](B);},this['GetBodyByIDMap']=function(B){let C=[];for(let D=0x0;D<d['Objects']['length'];D++){let E=d['Objects'][D];for(let F=0x0;F<E['tag']['length'];F++){let G=E['tag'][F];B!==undefined&&(B['has'](G['bodyId'])&&C['push'](G));}}return C;},this['GetBodies']=function(B){let C=[];if(a['useTree'])C=a['Tree']['GetBodies'](B);else for(let D=0x0;D<B['length'];D++){let E=d['BodyMap']['get'](B[D]);if(E===undefined)continue;for(let F=0x0;F<E['length'];F++){C['push'](E[F]);}}return C;},this['GetPickByBody']=function(B,C,D){return a['Pick']['GetPickByBody'](B,C,D);},this['GetBodiesByMaterial']=function(B){let C=[];if(a['useTree']){let D=a['Tree']['GetRootNode']();for(let E=0x0;E<D['length'];E++){let F=a['Tree']['GetBodyId'](D[E]['node_id']),G=d['GetBodies'](F);for(let H=0x0;H<G['length'];H++){if(G[H]['action']['material']!==B)continue;C['push'](G[H]);}}}else{}return C;},this['GetPickByBodyCacheDownload']=function(B,C,D){a['Pick']['GetPickByBodyCacheDownload'](B,C,D);},this['GetPreselectPick']=function(B,C,D){a['Pick']['GetPreselectPick'](B,C,D);},this['GetWorldPickByID']=function(B,C,D){return a['Pick']['GetWorldPickByID'](B,C,D);},this['GetWorldPick']=function(B,C,D){return a['Pick']['GetWorldPick'](B,C,D);},this['ColorItem']=function(B,C,D,E){let F={'R':B===undefined?0xff:B,'G':C===undefined?0xff:C,'B':D===undefined?0xff:D,'A':E===undefined?0x1:E};return F;},this['GetBodyByColorIdx']=function(B){for(let C=0x0;C<d['Objects']['length'];C++){let D=d['Objects'][C];for(let E=0x0;E<D['tag']['length'];E++){let F=D['tag'][E];if(F['colorIdx']===B)return F;}}return undefined;},this['Select']=function(B,C,D){if(a['useTree'])a['Tree']['Select'](B,C,D);else{let E=[],F=new Map();x(B,E,F);for(let G=0x0;G<d['Objects']['length'];G++){let H=d['Objects'][G];for(let I=0x0;I<H['tag']['length'];I++){let J=H['tag'][I];if(F!==undefined){if(F['get'](J['bodyId'])!==undefined)J['action']['selection']!==C&&(J['action']['selection']=C,H['flag']['updateProcess']=!![]);else{if(!D){if(J['action']['selection'])H['flag']['updateProcess']=!![];J['action']['selection']=![];}}}else{if(!D){if(J['action']['selection'])H['flag']['updateProcess']=!![];J['action']['selection']=![];}}}}a['Renderer']['MainFBClear'](),a['Renderer']['Render'](),q['dispatchEvent'](c['Enum']['EVENT_TYPES']['Data']['Selected'],B);}},this['GetSelection']=function(){let B=[];if(a['useTree'])return a['Tree']['GetSelection'](!![]);else{let C=new Map();for(let D=0x0;D<d['Objects']['length'];D++){let E=d['Objects'][D];for(let F=0x0;F<E['tag']['length'];F++){let G=E['tag'][F];G['action']['selection']&&C['has'](G['bodyId'])===![]&&(C['set'](G['bodyId'],G['bodyId']),B['push'](G['bodyId']));}}}return B;},this['ObjectsSelectBox']=function(B,C,D,E,F){const G=a['Renderer']['GetSizeWidth'](),H=a['Renderer']['GetSizeHeight']();let I,J,K,L;I=B/G*0x2-0x1,J=D/G*0x2-0x1,K=-(E/H*0x2-0x1),L=-(C/H*0x2-0x1);let M=new c['Vector3'](I,K,0x0),N=new c['Vector3'](J,K,0x0),O=new c['Vector3'](J,L,0x0),P=new c['Vector3'](I,L,0x0),Q=[],R=a['Camera']['GetPerspectiveNeaPlane']();if(a['useTree']){let S=a['Tree']['GetRootNode']();for(let T=0x0;T<S['length'];T++){let U=a['Tree']['GetBodyId'](S[T]['node_id']);for(let V=0x0;V<U['length'];V++){let W=a['Tree']['GetNode'](U[V]);if(!W['visible'])continue;let X=a['Tree']['GetBBox'](U[V]),Y=[new c['Vector3'](X['min']['x'],X['min']['y'],X['min']['z']),new c['Vector3'](X['min']['x'],X['min']['y'],X['max']['z']),new c['Vector3'](X['min']['x'],X['max']['y'],X['min']['z']),new c['Vector3'](X['min']['x'],X['max']['y'],X['max']['z']),new c['Vector3'](X['max']['x'],X['min']['y'],X['min']['z']),new c['Vector3'](X['max']['x'],X['min']['y'],X['max']['z']),new c['Vector3'](X['max']['x'],X['max']['y'],X['min']['z']),new c['Vector3'](X['max']['x'],X['max']['y'],X['max']['z'])],Z=[],a0=[[0x0,0x1,0x2],[0x1,0x2,0x3],[0x4,0x5,0x6],[0x5,0x6,0x7],[0x0,0x2,0x4],[0x2,0x4,0x6],[0x1,0x3,0x5],[0x3,0x5,0x7],[0x2,0x3,0x6],[0x3,0x6,0x7],[0x0,0x1,0x4],[0x1,0x4,0x5]],a1=new c['Matrix4']()['copy'](a['Camera']['matMVP']);for(let a5=0x0;a5<0x8;a5++)Z[a5]=new c['Vector3']()['copy'](Y[a5])['applyMatrix4'](a1);let a2=![],a3=![],a4=0x0;for(let a6=0x0;a6<0xc;a6++){if(a['Camera']['perspectiveView']){if(a['Util']['IsRenderReivewNearPlane'](Y[a0[a6][0x0]],R)&&a['Util']['IsRenderReivewNearPlane'](Y[a0[a6][0x1]],R)&&a['Util']['IsRenderReivewNearPlane'](Y[a0[a6][0x2]],R))continue;}if(F){if(a['Util']['IsTriangleInBox2D'](Z[a0[a6][0x0]],Z[a0[a6][0x1]],Z[a0[a6][0x2]],M,O)){a3=!![],a4++;continue;}}else{if(a['Util']['IsTriangleCrossBox2D'](Z[a0[a6][0x0]],Z[a0[a6][0x1]],Z[a0[a6][0x2]],M,N,O,P)){a2=!![];break;}}}if(F&&!a3)continue;if(!F&&!a2)continue;if(F&&a4!==0xc)continue;Q['push'](U[V]);}}}if(Q['length']<=0x0)return![];return a['useTree']&&a['Tree']['SelectMulti'](Q,!![],![]),q['dispatchEvent'](c['Enum']['EVENT_TYPES']['Data']['BoxSelected'],Q),!![];},this['SetSelectedObjectsColor']=function(B){for(let C=0x0;C<d['Objects']['length'];C++){let D=d['Objects'][C];for(let E=0x0;E<D['tag']['length'];E++){let F=D['tag'][E];if(F['action']['selection']){D['flag']['updateProcess']=!![];if(B!==undefined)F['action']['color']=new c['Color']()['copy'](B);else F['action']['color']=B;}}}a['Renderer']['MainFBClear'](),a['Renderer']['Render']();},this['Show']=function(B,C){if(a['useTree'])a['Tree']['ShowObject'](B,C);else{let D=[],E=new Map();x(B,D,E);for(let F=0x0;F<d['Objects']['length'];F++){let G=d['Objects'][F];for(let H=0x0;H<G['tag']['length'];H++){let I=G['tag'][H];E!==undefined&&(E['get'](I['bodyId'])!==undefined&&(I['action']['visible']!==C&&(G['flag']['updateProcess']=!![],I['action']['visible']=C)));}}a['Renderer']['Render']();}},this['ShowSelection']=function(B){if(a['useTree'])a['Tree']['ShowSelection'](B);else{for(let C=0x0;C<d['Objects']['length'];C++){let D=d['Objects'][C];for(let E=0x0;E<D['tag']['length'];E++){let F=D['tag'][E];F['action']['selection']&&(D['flag']['updateProcess']=!![],F['action']['visible']=B);}}a['Renderer']['MainFBClear'](),a['Renderer']['Render']();}},this['ShowAll']=function(B){if(a['useTree'])a['Tree']['ShowAll'](B);else{for(let C=0x0;C<d['Objects']['length'];C++){let D=d['Objects'][C];for(let E=0x0;E<D['tag']['length'];E++){let F=D['tag'][E];F['action']['visible']!==B&&(D['flag']['updateProcess']=!![],F['action']['visible']=B);}}a['Renderer']['MainFBClear'](),a['Renderer']['Render']();}},this['SelectAll']=function(){if(a['useTree'])a['Tree']['SelectAll']();else{let B=![];for(let C=0x0;C<d['Objects']['length'];C++){let D=d['Objects'][C];for(let E=0x0;E<D['tag']['length'];E++){let F=D['tag'][E];F['action']['selection']!==!![]&&(F['action']['selection']=!![],D['flag']['updateProcess']=!![],B=!![]);}}a['Renderer']['MainFBClear'](),a['Renderer']['Render']();}},this['DeselectAll']=function(){if(a['useTree'])a['Tree']['DeselectAll']();else{let B=![];for(let C=0x0;C<d['Objects']['length'];C++){let D=d['Objects'][C];for(let E=0x0;E<D['tag']['length'];E++){let F=D['tag'][E];F['action']['selection']!==![]&&(F['action']['selection']=![],D['flag']['updateProcess']=!![],B=!![]);}}a['Renderer']['MainFBClear'](),a['Renderer']['Render'](),q['dispatchEvent'](c['Enum']['EVENT_TYPES']['Data']['Deselect_All']);}},this['Transform']=function(B,C,D){let E=[],F=new Map();x(B,E,F);let G=d['GetBBox'](E);function H(J,K,L){let M=new c['Matrix4'](),N=new c['Matrix4'](),O=new c['Matrix4'](),P=new c['Matrix4']();N['makeRotationX'](L['x']*3.14/0xb4),O['makeRotationY'](L['y']*3.14/0xb4),P['makeRotationZ'](L['z']*3.14/0xb4),M=new c['Matrix4']()['multiplyMatrices'](N,O),M=new c['Matrix4']()['multiplyMatrices'](M,P);let Q=new c['Vector3']()['copy'](J)['multiplyScalar'](-0x1),R=new c['Matrix4']()['setPosition'](Q),S=new c['Matrix4']()['setPosition'](J),T=new c['Matrix4']()['multiplyMatrices'](M,R),U=new c['Matrix4']()['multiplyMatrices'](S,T);return U['translate'](K['x'],K['y'],K['z']),U;}let I=H(G['center'],C,D);for(let J=0x0;J<d['Objects']['length'];J++){let K=d['Objects'][J];for(let L=0x0;L<K['tag']['length'];L++){let M=K['tag'][L];F!==undefined&&(F['get'](M['bodyId'])!==undefined&&(M['action']['transform']['copy'](I),K['flag']['updateProcess']=!![]));}}a['Renderer']['MainFBClear'](),a['Renderer']['Render']();},this['GetTransformFromMatrix']=function(B,C,D){let E=[],F=new Map();x(B,E,F);let G=d['GetBBox'](E),H=new c['Matrix4'](),I=new c['Matrix4'](),J=new c['Matrix4'](),K=new c['Matrix4']();I['makeRotationX'](D['x']*3.14/0xb4),J['makeRotationY'](D['y']*3.14/0xb4),K['makeRotationZ'](D['z']*3.14/0xb4),H=new c['Matrix4']()['multiplyMatrices'](I,J),H=new c['Matrix4']()['multiplyMatrices'](H,K);let L=new c['Vector3']()['copy'](G['center'])['multiplyScalar'](-0x1),M=new c['Matrix4']()['setPosition'](L),N=new c['Matrix4']()['setPosition'](G['center']),O=new c['Matrix4']()['multiplyMatrices'](H,M),P=new c['Matrix4']()['multiplyMatrices'](N,O);return P['translate'](C['x'],C['y'],C['z']),P;},this['ClearObjectCustomColor']=function(B){let C=new Map();if(B!==undefined)for(let D=0x0;D<B['length'];D++){C['set'](B[D],B[D]);}for(let E=0x0;E<d['Objects']['length'];E++){let F=d['Objects'][E];for(let G=0x0;G<F['tag']['length'];G++){let H=F['tag'][G],I=![];(B===undefined||C['has'](H['bodyId']))&&(I=!![]),I&&(H['action']['customColor']||H['action']['color']!==undefined)&&(H['action']['customColor']=![],H['action']['color']=undefined,F['flag']['updateProcess']=!![]);}}a['Renderer']['MainFBClear'](),a['Renderer']['Render']();},this['SetObjectCustomColor']=function(B,C){let D=new Map();for(let E=0x0;E<B['length'];E++){D['set'](B[E],B[E]);}for(let F=0x0;F<d['Objects']['length'];F++){let G=d['Objects'][F];for(let H=0x0;H<G['tag']['length'];H++){let I=G['tag'][H];D['has'](I['bodyId'])&&(I['action']['customColor']=!![],C===undefined?I['action']['color']=new c['Color']()['copy'](I['color']):I['action']['color']=new c['Color']()['copy'](C),G['flag']['updateProcess']=!![]);}}a['Renderer']['MainFBClear'](),a['Renderer']['Render']();};function w(){let B={'nodeId':null,'arrProperties':[],'arrUserProperties':[]};return B;}function x(B,C,D){if(a['useLOD']){C=d['BodyMap']['get'](B);if(C===undefined)return C;for(let E=0x0;E<C['length'];E++){D['set'](C[E]['bodyId'],C[E]);}}else{if(d['TreeMap']['size']>0x0){let F=d['TreeMap']['get'](B);if(F===undefined)return C;if(F['itemType']===c['Enum']['ENTITY_TYPES']['EntBody']){C['push'](F);if(D!==undefined)D['set'](F['index'],F);}if(F['sub']!==undefined)for(let G=0x0;G<F['sub']['length'];G++){if(F['sub'][G]['itemType']===c['Enum']['ENTITY_TYPES']['EntAssembly']||F['sub'][G]['itemType']===c['Enum']['ENTITY_TYPES']['EntPart'])x(F['sub'][G]['index']*0x1,C,D);else{C['push'](F['sub'][G]);if(D!==undefined)D['set'](F['sub'][G]['index'],F['sub'][G]);}}}else{let H=d['GetBody'](B);if(H===undefined)return C;for(let I=0x0;I<H['length'];I++){C['push'](H[I]);if(D!==undefined)D['set'](H[I]['bodyId'],H[I]);}}}return C;}this['GetReview']=function(B){return d['Reviews']['find'](function(C){return C['id']===B;});},this['DeleteReview']=function(B){const C=d['Reviews']['findIndex'](function(D){return D['id']===B;});if(C>=0x0)d['Reviews']['splice'](C,0x1);},this['ZoomSelection']=function(){let B=[];for(let C=0x0;C<d['Objects']['length'];C++){let D=d['Objects'][C];for(let E=0x0;E<D['tag']['length'];E++){let F=D['tag'][E];F['action']['selection']&&B['push'](F);}}if(B['length']>0x0){let G=d['GetBBoxFormMatrix'](B);a['Camera']['FocusBBox'](G);}},this['CopyObject']=function(){},this['GetFileUnitNodeMap']=function(){let B=new Map();for(let C=0x0;C<d['Objects']['length'];C++){let D=d['Objects'][C];if(!B['has'](D['link']))B['set'](D['link'],D['tag']);else{let E=B['get'](D['link']),F=E['concat'](D['tag']);B['set'](D['link'],F);}}return B;},this['SetObjectColor']=function(B,C){let D=[],E=new Map();x(B,D,E);for(let F=0x0;F<d['Objects']['length'];F++){let G=d['Objects'][F];for(let H=0x0;H<G['tag']['length'];H++){let I=G['tag'][H];E!==undefined&&(E['get'](I['bodyId'])!==undefined&&(I['color']['copy'](C),G['flag']['updateProcess']=!![]));}}a['Renderer']['MainFBClear'](),a['Renderer']['Render']();},this['SetObjectMatrix']=function(B,C){let D=new Map();for(let E=0x0;E<B['length'];E++){D['set'](B[E],B[E]);}for(let F=0x0;F<d['Objects']['length'];F++){let G=d['Objects'][F];for(let H=0x0;H<G['tag']['length'];H++){let I=G['tag'][H];D['get'](I['bodyId'])!==undefined&&(I['action']['transform']['copy'](C),G['flag']['updateProcess']=!![]);}}},this['GetTriangles']=function(B){let C=0x0,D=[];for(let E=0x0;E<B['length'];E++){let F=B[E];for(let G=F['m_triIdx'];G<F['m_triIdx']+F['m_nTris'];G+=0x3){let H=d['TriangleItem'](),I,J,K;I=F['object']['attribs']['a_index']['array'][G],J=F['object']['attribs']['a_index']['array'][G+0x1],K=F['object']['attribs']['a_index']['array'][G+0x2];{let L=new c['Vector3'](F['object']['attribs']['a_position']['array'][I*0x3+0x0],F['object']['attribs']['a_position']['array'][I*0x3+0x1],F['object']['attribs']['a_position']['array'][I*0x3+0x2]),M=new c['Vector3'](F['object']['attribs']['a_position']['array'][J*0x3+0x0],F['object']['attribs']['a_position']['array'][J*0x3+0x1],F['object']['attribs']['a_position']['array'][J*0x3+0x2]),N=new c['Vector3'](F['object']['attribs']['a_position']['array'][K*0x3+0x0],F['object']['attribs']['a_position']['array'][K*0x3+0x1],F['object']['attribs']['a_position']['array'][K*0x3+0x2]);H['vertex']['v1']['copy'](L),H['vertex']['v2']['copy'](M),H['vertex']['v3']['copy'](N),H['BBox']['min']['copy'](L),H['BBox']['min']['min'](M),H['BBox']['min']['min'](N),H['BBox']['max']['copy'](L),H['BBox']['max']['max'](M),H['BBox']['max']['max'](N),H['BBox']['update']();}if(F['object']['attribs']['a_normal']['array']['length']>0x0){let O=new c['Vector3'](F['object']['attribs']['a_normal']['array'][I*0x3+0x0],F['object']['attribs']['a_normal']['array'][I*0x3+0x1],F['object']['attribs']['a_normal']['array'][I*0x3+0x2]),P=new c['Vector3'](F['object']['attribs']['a_normal']['array'][J*0x3+0x0],F['object']['attribs']['a_normal']['array'][J*0x3+0x1],F['object']['attribs']['a_normal']['array'][J*0x3+0x2]),Q=new c['Vector3'](F['object']['attribs']['a_normal']['array'][K*0x3+0x0],F['object']['attribs']['a_normal']['array'][K*0x3+0x1],F['object']['attribs']['a_normal']['array'][K*0x3+0x2]);H['normal']['v1']['copy'](O),H['normal']['v2']['copy'](P),H['normal']['v3']['copy'](Q);}H['index'][0x0]=I,H['index'][0x1]=J,H['index'][0x2]=K,D[C]=H,C++;}}return D;},this['GetSurfaceTriangles']=function(B,C){let D=-0x1;for(let I=0x0;I<C['length'];I++){if(new c['Vector3']()['subVectors'](B['vertex']['v1'],C[I]['vertex']['v1'])['lengthSq']()<0x1&&new c['Vector3']()['subVectors'](B['vertex']['v2'],C[I]['vertex']['v2'])['lengthSq']()<0x1&&new c['Vector3']()['subVectors'](B['vertex']['v3'],C[I]['vertex']['v3'])['lengthSq']()<0x1){D=I;break;}}if(D<0x0)return C;let E=[],F=[];E[D]=!![];let G=!![];while(G){G=![];for(let J=0x0;J<C['length'];J++){if(E[J]===undefined||E[J]===![])continue;if(F[J]!==undefined&&F[J]===!![])continue;F[J]=!![];let K=a['Util']['GetTriangleNormal'](C[J]['vertex']['v1'],C[J]['vertex']['v2'],C[J]['vertex']['v3']);for(let L=0x0;L<0x3;L++){let M=![],N=[a['Util']['GetTrianglePos'](C[J],L),a['Util']['GetTrianglePos'](C[J],(L+0x1)%0x3)];for(let O=0x0;O<C['length'];O++){if(E[O]!==undefined&&E[O]===!![])continue;for(let P=0x0;P<0x3;P++){let Q=[a['Util']['GetTrianglePos'](C[O],P),a['Util']['GetTrianglePos'](C[O],(P+0x1)%0x3)],R=new c['Vector3']()['subVectors'](N[0x0],Q[0x0])['lengthSq'](),S=new c['Vector3']()['subVectors'](N[0x1],Q[0x1])['lengthSq'](),T=new c['Vector3']()['subVectors'](N[0x0],Q[0x1])['lengthSq'](),U=new c['Vector3']()['subVectors'](N[0x1],Q[0x0])['lengthSq']();if(R<0x1&&S<0x1||T<0x1&&U<0x1){let V=a['Util']['GetTriangleNormal'](C[O]['vertex']['v1'],C[O]['vertex']['v2'],C[O]['vertex']['v3']);if(Math['abs'](K['dot'](V))>0.07){E[O]=!![],M=!![],G=!![];break;}}}if(M)break;}}}}let H=[];for(let W=0x0;W<C['length'];W++){if(E[W]===undefined||E[W]===![])continue;let X=d['TriangleItem']();X['vertex']['v1']['copy'](C[W]['vertex']['v1']),X['vertex']['v2']['copy'](C[W]['vertex']['v2']),X['vertex']['v3']['copy'](C[W]['vertex']['v3']);let Y=a['Util']['GetTriangleNormal'](C[W]['vertex']['v1'],C[W]['vertex']['v2'],C[W]['vertex']['v3']);X['normal']['v1']['copy'](Y),X['normal']['v2']['copy'](Y),X['normal']['v3']['copy'](Y),X['BBox']['min']['copy'](C[W]['vertex']['v1']),X['BBox']['min']['min'](C[W]['vertex']['v2']),X['BBox']['min']['min'](C[W]['vertex']['v3']),X['BBox']['max']['copy'](C[W]['vertex']['v1']),X['BBox']['max']['max'](C[W]['vertex']['v2']),X['BBox']['max']['max'](C[W]['vertex']['v3']),X['BBox']['update'](),H['push'](X);}return H;},this['GetMinDistanceByTriangles']=function(B,C,D,E){let F=0x0,G=!![],H,I;for(let J=0x0;J<B['length'];J++){for(let K=0x0;K<C['length'];K++){if(J!==0x0&&K!==0x0){if(B[J]['BBox']['min']['x']-C[K]['BBox']['max']['x']>F)continue;if(B[J]['BBox']['min']['y']-C[K]['BBox']['max']['y']>F)continue;if(B[J]['BBox']['min']['z']-C[K]['BBox']['max']['z']>F)continue;if(C[K]['BBox']['min']['x']-B[J]['BBox']['max']['x']>F)continue;if(C[K]['BBox']['min']['y']-B[J]['BBox']['max']['y']>F)continue;if(C[K]['BBox']['min']['z']-B[J]['BBox']['max']['z']>F)continue;}let L=new c['Vector3'](),M=new c['Vector3'](),N=new c['Vector3'](),O=new c['Vector3'](),P=a['Util']['Tris2TrisDistance'](B[J],C[K],L,M),Q=a['Util']['Tris2TrisDistance'](C[K],B[J],N,O);if(G)P<Q?(H=L,I=M,F=P):(H=N,I=O,F=Q),G=![];else{if(P<F)H=L,I=M,F=P;else Q<F&&(H=N,I=O,F=Q);}}}if(!G){if(D!==undefined)D['copy'](H);if(E!==undefined)E['copy'](I);}return F;};function y(B,C,D){let E=C['min']['x'],F=C['max']['x'],G=C['min']['y'],H=C['max']['y'],I=C['min']['z'],J=C['max']['z'],K=D['x'],L=D['y'],M=D['z'],N=[];for(let O=0x0;O<M;O++){for(let P=0x0;P<L;P++){for(let Q=0x0;Q<K;Q++){let R=[];R[0x0]=E+(F-E)/K*Q,R[0x1]=G+(H-G)/L*P,R[0x2]=I+(J-I)/M*O,R[0x3]=E+(F-E)/K*(Q+0x1),R[0x4]=G+(H-G)/L*(P+0x1),R[0x5]=I+(J-I)/M*(O+0x1);let S=[],T=Q>=0xa?Q+'':'0'+Q,U=P>=0xa?P+'':'0'+P,V=O>=0xa?O+'':'0'+O;S['push'](T+'_'+U+'_'+V);let W={'bbox':d['BBox'](R),'list':S};N['push'](W);}}}d['AddAreaListMap'](B,N);}async function z(){try{}catch(B){}};a['DemoType']!==-0x1&&a['DemoType']!==0x5&&a['DemoType']!==0x1&&z();};export default Data;