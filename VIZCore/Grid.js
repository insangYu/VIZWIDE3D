class Grid{constructor(a,b){let c=this,d=new b['Color'](0x80,0x80,0x80,0xc8),e=new b['Color'](0xe6,0xe6,0xe6,0xc8),f=[];this['Visible']=!![],this['Loaded']=![],this['Info']={'BBox':undefined,'Items':[]},this['ElevationLine']=!![],this['PlanLine']=!![],this['SectionLine']=!![],this['ShowEvenNumber']=!![],this['ShowNumberAllStep']=![],this['ShowOddNumber']=!![],this['ShowFrameNumber']=!![],this['XYPlane']=!![],this['YZPlane']=!![],this['ZXPlane']=!![],this['GridItem']=j=>{let k={'axis':j===b['Enum']['Axis']['X']?'X':j===b['Enum']['Axis']['Y']?'Y':'Z','axisId':j===b['Enum']['Axis']['X']?0x0:j===b['Enum']['Axis']['Y']?0x1:0x2,'label':j===b['Enum']['Axis']['X']?'FR':j===b['Enum']['Axis']['Y']?'LP':'LP','items':[]};return k;},g();function g(){}function h(j,k,l,m,n){let o=new b['Matrix4']()['copy'](a['Camera']['matMVP']),p=0x8,q=0x2;j['font']=p+'pt\x20Arial',j['fillStyle']='rgba(0,\x200,\x200,\x201.0)';let r=0x1e;if(n!==undefined)r=n;let s=a['Camera']['GetScreen1PixcelLength'](k),t=new b['Vector3']()['addVectors'](k,new b['Vector3']()['copy'](l)['multiplyScalar'](s*r)),u=a['Camera']['world2ScreenWithMatrix'](o,t);const v=a['Renderer']['Util_GetTextMetricsByText'](j,m,0xc);let x=v['width']+q*0x2,y=v['height']+q*0x2;j['fillText'](m,u['x']-x*1.5,u['y']);}function i(k){c['Loaded']=!![],c['Info']['Items']=k;let l=new b['Vector3'](),m=new b['Vector3']();for(let n=0x0;n<k['length'];n++){const o=k[n];if(o['axisId']===0x0)for(let p=0x0;p<o['items']['length'];p++){const q=o['items'][p];p===0x0?(l['x']=q['offset'],m['x']=q['offset']):(l['x']=Math['min'](l['x'],q['offset']),m['x']=Math['max'](m['x'],q['offset']));}else{if(o['axisId']===0x1)for(let r=0x0;r<o['items']['length'];r++){const s=o['items'][r];r===0x0?(l['y']=s['offset'],m['y']=s['offset']):(l['y']=Math['min'](l['y'],s['offset']),m['y']=Math['max'](m['y'],s['offset']));}else{if(o['axisId']===0x2)for(let t=0x0;t<o['items']['length'];t++){const u=o['items'][t];t===0x0?(l['z']=u['offset'],m['z']=u['offset']):(l['z']=Math['min'](l['z'],u['offset']),m['z']=Math['max'](m['z'],u['offset']));}}}}c['Info']['BBox']=new b['BBox']([l['x'],l['y'],l['z'],m['x'],m['y'],m['z']]),a['MeshBlock']['Reset'](),a['Renderer']['Render']();}this['Add']=j=>{let k=a['Data']['FileData']();return k['Url']=j,k['DataType']=-0x1,a['Loader']['LoadGrid'](k,function(l){console['log']('JSON\x20::\x20',l);if(l===null)return;i(l);},undefined),k;},this['AddString']=j=>{let k=JSON['parse'](j);i(k);},this['Clear']=()=>{this['Info']={'BBox':undefined,'Items':[]},this['Loaded']=![];},this['AddGridLine']=(j,k,l)=>{let m=undefined;if(j===b['Enum']['Axis']['X'])c['Info']['Items'][0x0]===undefined&&(c['Info']['Items'][0x0]=this['GridItem'](j)),m=c['Info']['Items'][0x0];else{if(j===b['Enum']['Axis']['Y'])c['Info']['Items'][0x1]===undefined&&(c['Info']['Items'][0x1]=this['GridItem'](j)),m=c['Info']['Items'][0x1];else j===b['Enum']['Axis']['Z']&&(c['Info']['Items'][0x2]===undefined&&(c['Info']['Items'][0x2]=this['GridItem'](j)),m=c['Info']['Items'][0x2]);}m['items']['push']({'id':k,'offset':l}),this['Loaded']=!![];},this['Render']=(j,k,l)=>{if(c['Visible']&&c['Loaded']){if(a['Data']['ObjectsBBox']===undefined)return;let m=new b['BBox']()['copy'](a['Data']['ObjectsBBox']);f=[],f[0x0]=[],f[0x1]=[];let n=0x0,o=0x0;j['enable'](j['DEPTH_TEST']),j['depthMask'](!![]),j['enable'](j['BLEND']),j['blendFunc'](j['SRC_ALPHA'],j['ONE_MINUS_SRC_ALPHA']);const p=new b['Matrix4']()['copy'](a['Camera']['matMV']),q=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let r=t=>{let u=undefined,v=undefined,w=undefined;if(t===0x0)w=c['Info']['Items'][0x0]['items'],u=new b['Vector3'](0x0,m['min']['y'],m['min']['z']),v=new b['Vector3'](0x0,m['max']['y'],m['min']['z']);else{if(t===0x1)w=c['Info']['Items'][0x1]['items'],u=new b['Vector3'](m['max']['x'],0x0,m['min']['z']),v=new b['Vector3'](m['max']['x'],0x0,m['max']['z']);else t===0x2&&(w=c['Info']['Items'][0x1]['items'],u=new b['Vector3'](m['min']['x'],m['max']['y'],0x0),v=new b['Vector3'](m['max']['x'],m['max']['y'],0x0));}for(let x=0x0;x<w['length'];x++){let y=w[x],z=new b['Vector3']()['copy'](u),A=new b['Vector3']()['copy'](v);if(t===0x0){if(y['offset']<a['Data']['ObjectsBBox']['min']['x']||y['offset']>a['Data']['ObjectsBBox']['max']['x'])continue;z=z['add'](new b['Vector3'](y['offset'],0x0,0x0)),A=A['add'](new b['Vector3'](y['offset'],0x0,0x0));}else{if(t===0x1){if(y['offset']<a['Data']['ObjectsBBox']['min']['y']||y['offset']>a['Data']['ObjectsBBox']['max']['y'])continue;z=z['add'](new b['Vector3'](0x0,y['offset'],0x0)),A=A['add'](new b['Vector3'](0x0,y['offset'],0x0));}else{if(t===0x2){if(y['offset']<a['Data']['ObjectsBBox']['min']['z']||y['offset']>a['Data']['ObjectsBBox']['max']['z'])continue;z=z['add'](new b['Vector3'](0x0,0x0,y['offset'])),A=A['add'](new b['Vector3'](0x0,0x0,y['offset']));}}}{let B=new b['Vector3']()['subVectors'](z,A);B['normalize'](),h(k,z,B,y['offset']+''),B=new b['Vector3']()['subVectors'](A,z),B['normalize'](),h(k,A,B,y['offset']+'');}}},s=()=>{if(l){a['Shader']['BeginShader'](b['Enum']['SHADER_TYPES']['BASIC2D']),a['Shader']['SetMatrix'](q,p),a['Shader']['SetClipping'](undefined);if(d===undefined)a['Shader']['SetGLColor'](0x1,0x1,0x1,0x1);else{let a2=e['glColor']();a['Shader']['SetGLColor'](a2['r'],a2['g'],a2['b'],a2['a']);}}let t=0x5,u=0x3c,v=0x2,w=0x5,A=![],B=this['XYPlane'],C=this['YZPlane'],D=this['ZXPlane'],E=this['ShowNumberAllStep'],F=this['SectionLine'],G=this['ElevationLine'],H=this['PlanLine'],I=this['ShowFrameNumber'],J=this['ShowOddNumber'],K=this['ShowEvenNumber'],L=new b['BBox']()['copy'](a['Data']['ObjectsBBox']),M=0x7530,N=0x0,O=[],P=0x0,Q=[],R=0x1,S=new b['Vector3']()['copy'](L['center']),T=new b['Vector3']()['subVectors'](L['min'],S)['multiplyScalar'](R),U=new b['Vector3']()['subVectors'](L['max'],S)['multiplyScalar'](R),V=new b['Vector3']()['addVectors'](S,T),W=new b['Vector3']()['addVectors'](S,U),X=L['radius'],Y=new b['Vector3'](),Z=new b['Vector3'](),a0=a['Camera']['matMVP'],a1=[];if(B){Y=new b['Vector3']()['copy'](L['center']),Z=new b['Vector3']()['copy'](Y),Z['z']+=X,Y=a['Camera']['world2ScreenWithMatrix'](a0,Y),Z=a['Camera']['world2ScreenWithMatrix'](a0,Z);let a3=0x0;if(A){if(Y['z']>Z['z']&&!A||Y['z']<Z['z']&&A)a3=V['z'];else a3=W['z'];}else a3=V['z'];a1[0x0]=a1[0x4]=new b['Vector3'](V['x'],V['y'],a3),a1[0x1]=new b['Vector3'](W['x'],V['y'],a3),a1[0x2]=new b['Vector3'](W['x'],W['y'],a3),a1[0x3]=new b['Vector3'](V['x'],W['y'],a3);for(let a6=0x0;a6<a1['length'];a6++){if(a6===0x0)continue;O[N+0x0]=a1[a6-0x1]['x'],O[N+0x1]=a1[a6-0x1]['y'],O[N+0x2]=a1[a6-0x1]['z'],N+=0x3,O[N+0x0]=a1[a6]['x'],O[N+0x1]=a1[a6]['y'],O[N+0x2]=a1[a6]['z'],N+=0x3;}let a4=0x0;if(c['Info']['Items'][0x0]!==undefined&&c['Info']['Items'][0x0]['items']['length']>0x0)a4=c['Info']['Items'][0x0]['items']['length'];if(F&&a4){let a7=c['Info']['Items'][0x0]['items'];a1=[],Y=new b['Vector3']()['copy'](L['center']),Z=new b['Vector3']()['copy'](Y),Z['y']+=X,Y=a['Camera']['world2ScreenWithMatrix'](a0,Y),Z=a['Camera']['world2ScreenWithMatrix'](a0,Z);let a8=0x0,a9=![];Y['z']>Z['z']?(a8=W['y']+t,a9=!![]):a8=V['y']-t;let aa=0x1,ab=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](a7[0x0]['offset'],a8,a3)),ac=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](a7[a4-0x1]['offset'],a8,a3));ab['z']=ac['z']=0x0;let ad=new b['Vector3']()['subVectors'](ac,ab)['length']();while(aa<a4){if(ad/a4*aa>u)break;aa*=v;}if(E)aa=0x1;let ae=0x0;if(aa<a4)for(let af=0x0;af<a4;af+=aa){if(a7[af]['offset']<V['x']||a7[af]['offset']>W['x'])continue;ae++;if(!J&&ae%0x2)continue;if(!K&&!(ae%0x2))continue;a1[0x0]=new b['Vector3'](a7[af]['offset'],V['y'],a3),a1[0x1]=new b['Vector3'](a7[af]['offset'],W['y'],a3);let ag=undefined,ah=undefined;I?ah=c['Info']['Items'][0x0]['label']+'\x20'+a7[af]['id']+'':ah=a7[af]['offset']+'';a9?(ag=new b['Vector3']()['subVectors'](a1[0x1],a1[0x0]),ag['normalize'](),h(k,a1[0x1],ag,ah)):(ag=new b['Vector3']()['subVectors'](a1[0x0],a1[0x1]),ag['normalize'](),h(k,a1[0x0],ag,ah));if(af%(aa*w)!=0x0)for(let ai=0x0;ai<a1['length'];ai++){if(ai===0x0)continue;O[N+0x0]=a1[ai-0x1]['x'],O[N+0x1]=a1[ai-0x1]['y'],O[N+0x2]=a1[ai-0x1]['z'],N+=0x3,O[N+0x0]=a1[ai]['x'],O[N+0x1]=a1[ai]['y'],O[N+0x2]=a1[ai]['z'],N+=0x3;}else for(let aj=0x0;aj<a1['length'];aj++){if(aj===0x0)continue;Q[P+0x0]=a1[aj-0x1]['x'],Q[P+0x1]=a1[aj-0x1]['y'],Q[P+0x2]=a1[aj-0x1]['z'],P+=0x3,Q[P+0x0]=a1[aj]['x'],Q[P+0x1]=a1[aj]['y'],Q[P+0x2]=a1[aj]['z'],P+=0x3;}}}let a5=0x0;if(c['Info']['Items'][0x1]!==undefined&&c['Info']['Items'][0x1]['items']['length']>0x0)a5=c['Info']['Items'][0x1]['items']['length'];if(G&&a5){let ak=c['Info']['Items'][0x1]['items'];a1=[],Y=new b['Vector3']()['copy'](L['center']),Z=new b['Vector3']()['copy'](Y),Z['x']+=X,Y=a['Camera']['world2ScreenWithMatrix'](a0,Y),Z=a['Camera']['world2ScreenWithMatrix'](a0,Z);let al=0x0,am=![];if(Y['z']>Z['z'])al=W['x']+t,am=!![];else al=V['x']-t;let an=0x1,ao=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](al,ak[0x0]['offset'],a3)),ap=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](al,ak[a5-0x1]['offset'],a3));ao['z']=ap['z']=0x0;let aq=new b['Vector3']()['subVectors'](ap,ao)['length']();while(an<a5){if(aq/a5*an>u)break;an*=v;}if(E)an=0x1;let ar=0x0;if(an<a5)for(let as=0x0;as<a5;as+=an){if(ak[as]['offset']<V['y']||ak[as]['offset']>W['y'])continue;ar++;if(!J&&ar%0x2)continue;if(!K&&!(ar%0x2))continue;a1[0x0]=new b['Vector3'](V['x'],ak[as]['offset'],a3),a1[0x1]=new b['Vector3'](W['x'],ak[as]['offset'],a3);let at=undefined;I?at=c['Info']['Items'][0x1]['label']+'\x20'+ak[as]['id']+'':at=ak[as]['offset']+'';let au=undefined;am?(au=new b['Vector3']()['subVectors'](a1[0x1],a1[0x0]),au['normalize'](),h(k,a1[0x1],au,at)):(au=new b['Vector3']()['subVectors'](a1[0x0],a1[0x1]),au['normalize'](),h(k,a1[0x0],au,at));if(as%(an*w)!=0x0)for(let av=0x0;av<a1['length'];av++){if(av===0x0)continue;O[N+0x0]=a1[av-0x1]['x'],O[N+0x1]=a1[av-0x1]['y'],O[N+0x2]=a1[av-0x1]['z'],N+=0x3,O[N+0x0]=a1[av]['x'],O[N+0x1]=a1[av]['y'],O[N+0x2]=a1[av]['z'],N+=0x3;}else for(let aw=0x0;aw<a1['length'];aw++){if(aw===0x0)continue;Q[P+0x0]=a1[aw-0x1]['x'],Q[P+0x1]=a1[aw-0x1]['y'],Q[P+0x2]=a1[aw-0x1]['z'],P+=0x3,Q[P+0x0]=a1[aw]['x'],Q[P+0x1]=a1[aw]['y'],Q[P+0x2]=a1[aw]['z'],P+=0x3;}}}}if(C){a1=[],Y=new b['Vector3']()['copy'](L['center']),Z=new b['Vector3']()['copy'](Y),Z['y']+=X,Y=a['Camera']['world2ScreenWithMatrix'](a0,Y),Z=a['Camera']['world2ScreenWithMatrix'](a0,Z);let ax=0x0;if(Y['z']>Z['z']&&!A||Y['z']<Z['z']&&A)ax=V['y'];else ax=W['y'];a1[0x0]=a1[0x4]=new b['Vector3'](V['x'],ax,V['z']),a1[0x1]=new b['Vector3'](W['x'],ax,V['z']),a1[0x2]=new b['Vector3'](W['x'],ax,W['z']),a1[0x3]=new b['Vector3'](V['x'],ax,W['z']);for(let aA=0x0;aA<a1['length'];aA++){if(aA===0x0)continue;O[N+0x0]=a1[aA-0x1]['x'],O[N+0x1]=a1[aA-0x1]['y'],O[N+0x2]=a1[aA-0x1]['z'],N+=0x3,O[N+0x0]=a1[aA]['x'],O[N+0x1]=a1[aA]['y'],O[N+0x2]=a1[aA]['z'],N+=0x3;}let ay=0x0;if(c['Info']['Items'][0x2]!==undefined&&c['Info']['Items'][0x2]['items']['length']>0x0)ay=c['Info']['Items'][0x2]['items']['length'];if(H&&ay>0x0){let aB=c['Info']['Items'][0x2]['items'];a1=[],Y=new b['Vector3']()['copy'](L['center']),Z=new b['Vector3']()['copy'](Y),Z['x']+=X,Y=a['Camera']['world2ScreenWithMatrix'](a0,Y),Z=a['Camera']['world2ScreenWithMatrix'](a0,Z);let aC=0x0,aD=![];if(Y['z']>Z['z'])aC=W['x']+t,aD=!![];else aC=V['x']-t;let aE=0x1,aF=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](aC,ax,aB[0x0]['offset'])),aG=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](aC,ax,aB[ay-0x1]['offset']));aF['z']=aG['z']=0x0;let aH=new b['Vector3']()['subVectors'](aG,aF)['length']();while(aE<ay){if(aH/ay*aE>u)break;aE*=v;}if(E)aE=0x1;let aI=0x0;if(aE<ay)for(let aJ=0x0;aJ<ay;aJ+=aE){if(aB[aJ]['offset']<V['z']||aB[aJ]['offset']>W['z'])continue;aI++;if(!J&&aI%0x2)continue;if(!K&&!(aI%0x2))continue;a1[0x0]=new b['Vector3'](V['x'],ax,aB[aJ]['offset']),a1[0x1]=new b['Vector3'](W['x'],ax,aB[aJ]['offset']);let aK=undefined;I?aK=c['Info']['Items'][0x2]['label']+'\x20'+aB[aJ]['id']+'':aK=aB[aJ]['offset']+'';let aL=undefined;aD?(aL=new b['Vector3']()['subVectors'](a1[0x1],a1[0x0]),aL['normalize'](),h(k,a1[0x1],aL,aK)):(aL=new b['Vector3']()['subVectors'](a1[0x0],a1[0x1]),aL['normalize'](),h(k,a1[0x0],aL,aK));if(aJ%(aE*w)!=0x0)for(let aM=0x0;aM<a1['length'];aM++){if(aM===0x0)continue;O[N+0x0]=a1[aM-0x1]['x'],O[N+0x1]=a1[aM-0x1]['y'],O[N+0x2]=a1[aM-0x1]['z'],N+=0x3,O[N+0x0]=a1[aM]['x'],O[N+0x1]=a1[aM]['y'],O[N+0x2]=a1[aM]['z'],N+=0x3;}else for(let aN=0x0;aN<a1['length'];aN++){if(aN===0x0)continue;Q[P+0x0]=a1[aN-0x1]['x'],Q[P+0x1]=a1[aN-0x1]['y'],Q[P+0x2]=a1[aN-0x1]['z'],P+=0x3,Q[P+0x0]=a1[aN]['x'],Q[P+0x1]=a1[aN]['y'],Q[P+0x2]=a1[aN]['z'],P+=0x3;}}}let az=0x0;if(c['Info']['Items'][0x0]!==undefined&&c['Info']['Items'][0x0]['items']['length']>0x0)az=c['Info']['Items'][0x0]['items']['length'];if(F&&az){let aO=c['Info']['Items'][0x0]['items'];a1=[],Y=new b['Vector3']()['copy'](L['center']),Z=new b['Vector3']()['copy'](Y),Z['z']+=X,Y=a['Camera']['world2ScreenWithMatrix'](a0,Y),Z=a['Camera']['world2ScreenWithMatrix'](a0,Z);let aP=W['z']+t,aQ=0x1,aR=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](aO[0x0]['offset'],ax,aP)),aS=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](aO[az-0x1]['offset'],ax,aP));aR['z']=aS['z']=0x0;let aT=new b['Vector3']()['subVectors'](aS,aR)['length']();while(aQ<az){if(aT/az*aQ>u)break;aQ*=v;}if(E)aQ=0x1;let aU=0x0;if(aQ<az)for(let aV=0x0;aV<az;aV+=aQ){if(aO[aV]['offset']<V['x']||aO[aV]['offset']>W['x'])continue;aU++;if(!J&&aU%0x2)continue;if(!K&&!(aU%0x2))continue;a1[0x0]=new b['Vector3'](aO[aV]['offset'],ax,V['z']),a1[0x1]=new b['Vector3'](aO[aV]['offset'],ax,W['z']);let aW=undefined;I?aW=c['Info']['Items'][0x0]['label']+'\x20'+aO[aV]['id']+'':aW=aO[aV]['offset']+'';let aX=undefined;!![]&&(aX=new b['Vector3']()['subVectors'](a1[0x1],a1[0x0]),aX['normalize'](),h(k,a1[0x1],aX,aW,0xf));if(aV%(aQ*w)!=0x0)for(let aY=0x0;aY<a1['length'];aY++){if(aY===0x0)continue;O[N+0x0]=a1[aY-0x1]['x'],O[N+0x1]=a1[aY-0x1]['y'],O[N+0x2]=a1[aY-0x1]['z'],N+=0x3,O[N+0x0]=a1[aY]['x'],O[N+0x1]=a1[aY]['y'],O[N+0x2]=a1[aY]['z'],N+=0x3;}else for(let aZ=0x0;aZ<a1['length'];aZ++){if(aZ===0x0)continue;Q[P+0x0]=a1[aZ-0x1]['x'],Q[P+0x1]=a1[aZ-0x1]['y'],Q[P+0x2]=a1[aZ-0x1]['z'],P+=0x3,Q[P+0x0]=a1[aZ]['x'],Q[P+0x1]=a1[aZ]['y'],Q[P+0x2]=a1[aZ]['z'],P+=0x3;}}}}if(D){a1=[],Y=new b['Vector3']()['copy'](L['center']),Z=new b['Vector3']()['copy'](Y),Z['x']+=X,Y=a['Camera']['world2ScreenWithMatrix'](a0,Y),Z=a['Camera']['world2ScreenWithMatrix'](a0,Z);let b0=0x0;if(Y['z']>Z['z']&&!A||Y['z']<Z['z']&&A)b0=V['x'];else b0=W['x'];a1[0x0]=a1[0x4]=new b['Vector3'](b0,V['y'],V['z']),a1[0x1]=new b['Vector3'](b0,W['y'],V['z']),a1[0x2]=new b['Vector3'](b0,W['y'],W['z']),a1[0x3]=new b['Vector3'](b0,V['y'],W['z']);for(let b3=0x0;b3<a1['length'];b3++){if(b3===0x0)continue;O[N+0x0]=a1[b3-0x1]['x'],O[N+0x1]=a1[b3-0x1]['y'],O[N+0x2]=a1[b3-0x1]['z'],N+=0x3,O[N+0x0]=a1[b3]['x'],O[N+0x1]=a1[b3]['y'],O[N+0x2]=a1[b3]['z'],N+=0x3;}let b1=0x0;if(c['Info']['Items'][0x2]!==undefined&&c['Info']['Items'][0x2]['items']['length']>0x0)b1=c['Info']['Items'][0x2]['items']['length'];if(H&&b1>0x0){let b4=c['Info']['Items'][0x2]['items'];a1=[],Y=new b['Vector3']()['copy'](L['center']),Z=new b['Vector3']()['copy'](Y),Z['y']+=X,Y=a['Camera']['world2ScreenWithMatrix'](a0,Y),Z=a['Camera']['world2ScreenWithMatrix'](a0,Z);let b5=0x0,b6=![];if(Y['z']>Z['z'])b5=W['y']+t,b6=!![];else b5=V['y']-t;let b7=0x1,b8=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](b0,b5,b4[0x0]['offset'])),b9=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](b0,b5,b4[b1-0x1]['offset']));b8['z']=b9['z']=0x0;let ba=new b['Vector3']()['subVectors'](b9,b8)['length']();while(b7<b1){if(ba/b1*b7>u)break;b7*=v;}if(E)b7=0x1;let bb=0x0;if(b7<b1)for(let bc=0x0;bc<b1;bc+=b7){if(b4[bc]['offset']<V['z']||b4[bc]['offset']>W['z'])continue;bb++;if(!J&&bb%0x2)continue;if(!K&&!(bb%0x2))continue;a1[0x0]=new b['Vector3'](b0,V['y'],b4[bc]['offset']),a1[0x1]=new b['Vector3'](b0,W['y'],b4[bc]['offset']);let bd=undefined;I?bd=c['Info']['Items'][0x2]['label']+'\x20'+b4[bc]['id']+'':bd=b4[bc]['offset']+'';let be=undefined;b6?(be=new b['Vector3']()['subVectors'](a1[0x1],a1[0x0]),be['normalize'](),h(k,a1[0x1],be,bd)):(be=new b['Vector3']()['subVectors'](a1[0x0],a1[0x1]),be['normalize'](),h(k,a1[0x0],be,bd));if(bc%(b7*w)!=0x0)for(let bf=0x0;bf<a1['length'];bf++){if(bf===0x0)continue;O[N+0x0]=a1[bf-0x1]['x'],O[N+0x1]=a1[bf-0x1]['y'],O[N+0x2]=a1[bf-0x1]['z'],N+=0x3,O[N+0x0]=a1[bf]['x'],O[N+0x1]=a1[bf]['y'],O[N+0x2]=a1[bf]['z'],N+=0x3;}else for(let bg=0x0;bg<a1['length'];bg++){if(bg===0x0)continue;Q[P+0x0]=a1[bg-0x1]['x'],Q[P+0x1]=a1[bg-0x1]['y'],Q[P+0x2]=a1[bg-0x1]['z'],P+=0x3,Q[P+0x0]=a1[bg]['x'],Q[P+0x1]=a1[bg]['y'],Q[P+0x2]=a1[bg]['z'],P+=0x3;}}}let b2=0x0;if(c['Info']['Items'][0x1]!==undefined&&c['Info']['Items'][0x1]['items']['length']>0x0)b2=c['Info']['Items'][0x1]['items']['length'];if(G&&b2){let bh=c['Info']['Items'][0x1]['items'];a1=[],Y=new b['Vector3']()['copy'](L['center']),Z=new b['Vector3']()['copy'](Y),Z['z']+=X,Y=a['Camera']['world2ScreenWithMatrix'](a0,Y),Z=a['Camera']['world2ScreenWithMatrix'](a0,Z);let bi=0x0;bi=W['z']+t;let bj=0x1,bk=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](b0,bh[0x0]['offset'],bi)),bl=a['Camera']['world2ScreenWithMatrix'](a0,new b['Vector3'](b0,bh[b2-0x1]['offset'],bi));bk['z']=bl['z']=0x0;let bm=new b['Vector3']()['subVectors'](bl,bk)['length']();while(bj<b2){if(bm/b2*bj>u)break;bj*=v;}if(E)bj=0x1;let bn=0x0;if(bj<b2)for(let bo=0x0;bo<b2;bo+=bj){if(bh[bo]['offset']<V['y']||bh[bo]['offset']>W['y'])continue;bn++;if(!J&&bn%0x2)continue;if(!K&&!(bn%0x2))continue;a1[0x0]=new b['Vector3'](b0,bh[bo]['offset'],V['z']),a1[0x1]=new b['Vector3'](b0,bh[bo]['offset'],W['z']);let bp=undefined;I?bp=c['Info']['Items'][0x1]['label']+'\x20'+bh[bo]['id']+'':bp=bh[bo]['offset']+'';let bq=undefined;!![]&&(bq=new b['Vector3']()['subVectors'](a1[0x1],a1[0x0]),bq['normalize'](),h(k,a1[0x1],bq,bp,0xf));if(bo%(bj*w)!=0x0)for(let br=0x0;br<a1['length'];br++){if(br===0x0)continue;O[N+0x0]=a1[br-0x1]['x'],O[N+0x1]=a1[br-0x1]['y'],O[N+0x2]=a1[br-0x1]['z'],N+=0x3,O[N+0x0]=a1[br]['x'],O[N+0x1]=a1[br]['y'],O[N+0x2]=a1[br]['z'],N+=0x3;}else for(let bs=0x0;bs<a1['length'];bs++){if(bs===0x0)continue;Q[P+0x0]=a1[bs-0x1]['x'],Q[P+0x1]=a1[bs-0x1]['y'],Q[P+0x2]=a1[bs-0x1]['z'],P+=0x3,Q[P+0x0]=a1[bs]['x'],Q[P+0x1]=a1[bs]['y'],Q[P+0x2]=a1[bs]['z'],P+=0x3;}}}}if(l){let bt=undefined;bt=j['createBuffer'](),j['bindBuffer'](j['ARRAY_BUFFER'],bt),j['vertexAttribPointer'](a['Shader']['positionAttributeLocation'],0x3,j['FLOAT'],![],0x0,0x0);let bu=new b['Color'](0xff,0xff,0xff,0xff)['glColor']();a['Shader']['SetGLColor'](bu['r'],bu['g'],bu['b'],bu['a']),N>0x0&&(j['bindBuffer'](j['ARRAY_BUFFER'],bt),j['bufferData'](j['ARRAY_BUFFER'],new Float32Array(O),j['STATIC_DRAW']),j['drawArrays'](j['LINES'],0x0,N/0x3)),j['deleteBuffer'](bt),bt=j['createBuffer'](),j['bindBuffer'](j['ARRAY_BUFFER'],bt),j['vertexAttribPointer'](a['Shader']['positionAttributeLocation'],0x3,j['FLOAT'],![],0x0,0x0),bu=new b['Color'](0xff,0x0,0x0,0xff)['glColor'](),a['Shader']['SetGLColor'](bu['r'],bu['g'],bu['b'],bu['a']),P>0x0&&(j['bindBuffer'](j['ARRAY_BUFFER'],bt),j['bufferData'](j['ARRAY_BUFFER'],new Float32Array(Q),j['STATIC_DRAW']),j['drawArrays'](j['LINES'],0x0,P/0x3)),j['deleteBuffer'](bt),a['Shader']['EndShader']();}};s(),j['disable'](j['DEPTH_TEST']);}};}}export default Grid;