import a from'./Camera.js';class Dual{constructor(b,c){let d=this;this['enabled']=![],this['domElement']=undefined;let e=undefined,f=undefined,g=![];this['Camera']=undefined;function h(){if(!d['enabled'])return;d['enabled']=![],d['domElement']['removeEventListener']('contextmenu',function(x){x['preventDefault']();},![]),d['domElement']['removeEventListener']('mousedown',l,![]),d['domElement']['removeEventListener']('mousewheel',o,![]),d['domElement']['removeEventListener']('DOMMouseScroll',o,![]),d['domElement']['removeEventListener']('touchstart',q,![]),d['domElement']['removeEventListener']('touchend',s,![]),d['domElement']['removeEventListener']('touchmove',r,![]),d['domElement']['removeEventListener']('mousemove',m,![]),d['domElement']['removeEventListener']('mouseup',n,![]),d['domElement']['removeEventListener']('mouseover',k,![]),d['domElement']['removeEventListener']('mouseout',j,![]),window['removeEventListener']('keyup',v,![]),window['removeEventListener']('keypress',u,![]);}function i(){if(d['enabled'])return;d['enabled']=!![],d['domElement']['addEventListener']('contextmenu',function(x){x['preventDefault']();},![]),d['domElement']['addEventListener']('mousedown',l,![]),d['domElement']['addEventListener']('mousewheel',o,![]),d['domElement']['addEventListener']('dblclick',p,![]),d['domElement']['addEventListener']('DOMMouseScroll',o,![]),d['domElement']['addEventListener']('touchstart',q,![]),d['domElement']['addEventListener']('touchend',s,![]),d['domElement']['addEventListener']('touchmove',r,![]),d['domElement']['addEventListener']('mousemove',m,![]),d['domElement']['addEventListener']('mouseup',n,![]),d['domElement']['addEventListener']('mouseover',k,![]),d['domElement']['addEventListener']('mouseout',j,![]),window['addEventListener']('keyup',v,![]),window['addEventListener']('keypress',u,![]);}function j(x){b['Control']['MouseOut'](x);}function k(x){b['Control']['MouseOver'](x);}function l(x){b['Mode']['Camera'](0x1),b['Control']['MouseDown'](x),b['Mode']['Camera'](0x0);}function m(x){b['Mode']['Camera'](0x1),b['Control']['MouseMove'](x),b['Mode']['Camera'](0x0);}function n(x){b['Mode']['Camera'](0x1),b['Control']['MouseUp'](x),b['Mode']['Camera'](0x0);}function o(x){b['Mode']['Camera'](0x1),b['Control']['MouseWheel'](x),b['Mode']['Camera'](0x0);}function p(x){b['Mode']['Camera'](0x1),b['Control']['DoubleClick'](x),b['Mode']['Camera'](0x0);}function q(x){b['Mode']['Camera'](0x1),b['Control']['TouchStart'](x),b['Mode']['Camera'](0x0);}function r(x){b['Mode']['Camera'](0x1),b['Control']['TouchMove'](x),b['Mode']['Camera'](0x0);}function s(x){b['Mode']['Camera'](0x1),b['Control']['TouchEnd'](x),b['Mode']['Camera'](0x0);}function t(x){}function u(x){}function v(x){}function w(){let z=b['Canvas_Dual'],A=b['ctx_review'],B=b['Renderer']['GetImageDataFromBuffer'](c['Enum']['FB_RENDER_TYPES']['END']),C=document['createElement']('canvas');C['id']=b['Container']['id']+'canvasbuffer',C['width']=B['width'],C['height']=B['height'];let D=C['getContext']('2d');D['imageSmoothingEnabled']=![];let E=C['width'],F=C['height'];z['width']=E,z['height']=F;let G=z['getContext']('2d'),H=document['getElementById']('viewcanvas_review');G['clearRect'](0x0,0x0,z['width'],z['height']);let I=D['createImageData'](B['width'],B['height']);I['data']['set'](B['data']),D['putImageData'](I,0x0,0x0);let J=Math['min'](z['width']/B['width'],z['height']/B['height']),K=z['width']/0x2-B['width']/0x2*J,L=z['height']/0x2-B['height']/0x2*J,M=B['width']*J,N=B['height']*J;G['imageSmoothingEnabled']=![],G['drawImage'](C,K,L,B['width']*J,B['height']*J),G['drawImage'](H,K,L,H['width']*J,H['height']*J);}this['Init']=function(x,y){e=x,d['domElement']=f=y,d['enabled']=![],i();},this['Visible']=function(){return g;},this['Show']=function(x){g=x;let y=$('#'+b['gl']['canvas']['id']),z=$('#'+e['id']),A=$('#'+f['id']);x?(y['css']('width','50%'),z['css']('width','50%'),A['css']('display',''),A['css']('width','50%'),A['css']('border-left','solid')):(y['css']('width','100%'),z['css']('width','100%'),A['css']('display','none'),A['css']('width','0'),A['css']('border-left','')),b['Resize']();},this['Draw']=function(){if(g)w();};}}export default Dual;